(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{242:function(t,i,o){"use strict";o.r(i);var s=o(28),e=Object(s.a)({},(function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"按下开机键，linux-做了什么？"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#按下开机键，linux-做了什么？"}},[t._v("#")]),t._v(" 按下开机键，Linux 做了什么？")]),t._v(" "),o("p",[t._v("当我们打开计算机电源，计算机会自动从主板的 BIOS （basic input/output system）读取其中所存储的程序。这一程序通常知道一些直接连接在主板上的硬件（硬盘、网络接口、键盘、串口、并口）。现在大部分 BIOS 允许你从软盘、光盘或硬盘中选择一个来启动计算机。")]),t._v(" "),o("p",[t._v("下一步，计算机将从你所选择的存储设备中读取起始的 512bytes （比如光盘一开始的 512 bytes，如果我们从光盘启动的话）。这 512 bytes 叫做引导记录 MBR （master boot record）。MBR 会告诉电脑从该设备的某一个分区（partition）来装载引导加载程序（boot loader）。boot loader 存储有操作系统（os）的相关信息，比如操作系统的名称，操作系统的内核所在位置等。常用的 boot loader有 GRUB 和 LILO 。")]),t._v(" "),o("p",[t._v("随后， boot loader 会帮助我们加载内核（kernel）。内核实际上是一个用来操作计算机的程序，他是计算机操作系统的内核，主要的任务是管理计算机的硬件资源，充当软件和硬件的接口。操作系统上的任何操作都要通过内核传达给硬件。windows 和 linux 各自有自己的内核。狭义的操作系统就是指内核,广义的操作系统包括内核及内核之上的所有应用。")]),t._v(" "),o("p",[t._v("linus Torvalds 与其说是 Linux 之父，不如说是 linux 内核之父。他依然负责 linux 内核的开发和维护。至于 ubuntu , Red hat,他们都是基于相同的内核之上，囊括了不同应用和界面构成的一个更加完整的操作系统版本。")]),t._v(" "),o("p",[t._v("实际上，我们可以在多个分区安装 boot loader，每个引导加载程序对应不同的操作系统，在读取 MBR 的时候选择我们想要启动的引导加载程序。这就是多操作系统的原理。")]),t._v(" "),o("blockquote",[o("p",[t._v("BIOS -> MBR -> 引导加载程序 -> 内核")])]),t._v(" "),o("h2",{attrs:{id:"内核"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#内核"}},[t._v("#")]),t._v(" 内核")]),t._v(" "),o("p",[t._v("如果我们加载的是linux 内核，linux内核开始工作。内核会首先预留自己运行所需要的内存空间，然后通过驱动程序（diver）检测计算机硬件。这样操作系统就可以知道有那些硬件可用。随后，内核会启动一个 init 进程。他是linux 系统中的 1 号进程（linux系统没有0号进程）。到此，内核就完成了在计算机启动阶段的工作，交接给init来管理。")]),t._v(" "),o("blockquote",[o("p",[t._v("内核 -> init process")])]),t._v(" "),o("h2",{attrs:{id:"init-process"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#init-process"}},[t._v("#")]),t._v(" init process")]),t._v(" "),o("p",[t._v("（根据 boot loader的选项，linux此时可以进入单用户模式（single user mode）。在此模式下，初始脚本还没有开始执行，我们可以检测并修复计算机可能存在的错误）")]),t._v(" "),o("p",[t._v("随后， init 会运行一系列的初始脚本（startup script），这些脚本是linux 中常见的shell script 。这些脚本执行如下功能：")]),t._v(" "),o("p",[t._v("设置计算机名称，时区、检测文件系统、挂载硬盘、清空临时文件、设置网络等")]),t._v(" "),o("p",[t._v("当这些初始化脚本，操作系统准备好之后init 会给出登陆对话框，或者是图形化的登陆界面。")]),t._v(" "),o("p",[t._v("登陆完成之后，你将以用户的身份操作电脑。此外，根据你所创建用户时的设定，linux 还会将你归到某个组（group）中。")]),t._v(" "),o("blockquote",[o("p",[t._v("BIOS -> MBR -> 引导加载程序 -> 内核 -> init process -> login")])])])}),[],!1,null,null,null);i.default=e.exports}}]);
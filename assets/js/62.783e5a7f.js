(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{226:function(s,t,e){"use strict";e.r(t);var n=e(28),a=Object(n.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"移动端调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#移动端调试"}},[s._v("#")]),s._v(" 移动端调试")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("Chrome 调试")]),s._v(" "),e("ul",[e("li",[s._v("需要科学上网， 数据线连接手机后，手机内打开Chrome 打开指定网页，电脑的浏览器输入 "),e("code",[s._v("chrome://inspect/#devices")]),s._v(" 浏览器就会显示已经连接的手机，然后点击内容区域的 "),e("code",[s._v("inspect")]),s._v(" ,就开始打开一个新的页面，在这个新的页面中会显示当前手机中的内容，和pc调试的方式一样")])])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"http://people.apache.org/~pmuellr/weinre/",target:"_blank",rel:"noopener noreferrer"}},[s._v("weinre 调试"),e("OutboundLink")],1)])])]),s._v(" "),e("p",[s._v("Weinre ( WebInspector Remote ), 是一款基于 Web Inspector （Webkit）的远程调试工具，借助于网络，可以在pc上直接调试运行在移动端的页面")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("\nusage:   weinre "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nversion: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),s._v(".0-pre-I0Z7U9OV\n\noptions:\n    --httpPort     port to run the http server on        default: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n    --boundHost    "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" address to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" the server to      default: localhost   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("hostname "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Ip "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -all-"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    --verbose      print "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" diagnostics                default: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("  \n    --debug        print even "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" diagnostics           default: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n    --readTimeout  seconds to "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" a client message  default: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n    --deathTimeout seconds to "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),s._v(" to "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" client        default: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("*readTimeout\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("ol",[e("li",[e("p",[s._v("安装 weinre "),e("code",[s._v("yarn add weinre")])])]),s._v(" "),e("li",[e("p",[s._v("启动 weinre  "),e("code",[s._v("npx weinre --httpPort 9990 --boundHost -all-")])])]),s._v(" "),e("li",[e("p",[s._v("浏览器打开 localhost:9990")])])]),s._v(" "),e("p",[s._v("如果在这步中浏览器打开这个地址后 weinre 服务挂掉，提示 mime.lookup 错误请进入到 weinre 目录，删除掉 mime 重新下载 mime "),e("code",[s._v("yarn add mime@1")])]),s._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[s._v("在要调试的页面中添加 "),e("code",[s._v('<script src="http://【你的IP】:9990/target/target-script-min.js#anonymous"><\/script>')])])]),s._v(" "),e("p",[s._v("这个地址在 Target Script 下面可以获取到")]),s._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[e("p",[s._v("点击 【Access Points】下面的 debug client user interface 后面的链接")])]),s._v(" "),e("li",[e("p",[s._v("手机访问要调试的页面")])]),s._v(" "),e("li",[e("p",[s._v("如果我们的remote 中检测到URL的时候就可以点击 tab 栏的其他选项开始调试了")])])]),s._v(" "),e("ul",[e("li",[s._v("spy-debugger 调试")])]),s._v(" "),e("blockquote",[e("p",[s._v("一站式页面调试、抓包工具。远程调试任何手机浏览器页面，任何手机移动端webview（如：微信，HybridApp等）。支持HTTP/HTTPS，无需USB连接设备。")])]),s._v(" "),e("p",[s._v("特性\n1、页面调试＋抓包\n2、操作简单，无需USB连接设备\n3、支持HTTPS。\n4、spy-debugger内部集成了weinre、node-mitmproxy、AnyProxy。\n5、自动忽略原生App发起的https请求，只拦截webview发起的https请求。对使用了SSL pinning技术的原生App不造成任何影响。\n6、可以配合其它代理工具一起使用(默认使用AnyProxy) (设置外部代理)")]),s._v(" "),e("p",[s._v("下载安装")]),s._v(" "),e("p",[e("code",[s._v("yarn add spy-debugger")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("\nUsage: spy-debugger "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nOptions:\n  -V, --version                    output the version number\n  -p, --port "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("               start port\n  -i, --showIframe "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("         spy iframe window\n  -b, --autoDetectBrowser "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  Auto detect Browser Request\n  -e, --externalProxy "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("      "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" external Proxy\n  -c, --cache "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("              "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" no cache\n  -w, --contentEditable "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" content editable\n  -h, --help                       output usage information\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("p",[s._v("使用")]),s._v(" "),e("ol",[e("li",[s._v("手机和pc 在同一网络下")]),s._v(" "),e("li",[s._v("命令行输入"),e("code",[s._v("spy-debugger -w true")]),s._v("，按命令行提示用浏览器打开相应地址。")]),s._v(" "),e("li",[s._v("设置手机的HTTP代理，代理IP地址设置为PC的IP地址，端口为spy-debugger的启动端口(默认端口：9888)。")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("Android设置代理步骤：设置 - WLAN - 长按选中网络 - 修改网络 - 高级 - 代理设置 - 手动\niOS设置代理步骤：设置 - 无线局域网 - 选中网络 - HTTP代理手动\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ol",{attrs:{start:"4"}},[e("li",[s._v("电脑端打开地址  "),e("code",[s._v("http://127.0.0.1:54813/")])])]),s._v(" "),e("p",[s._v("【请求抓包】 -》 【RootCA】 -》 手机浏览器扫描，安装证书")]),s._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[s._v("手机浏览想要调试的网页，电脑选择页面调试，就可以正常工作了")])])])}),[],!1,null,null,null);t.default=a.exports}}]);
!function(e){function t(t){for(var i,l,s=t[0],r=t[1],d=t[2],p=0,u=[];p<s.length;p++)l=s[p],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&u.push(n[l][0]),n[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);for(c&&c(t);u.length;)u.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,s=1;s<a.length;s++){var r=a[s];0!==n[r]&&(i=!1)}i&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var i={},n={app:0},o=[];function l(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=i,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(a,i,function(t){return e[t]}.bind(null,i));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var s=window.webpackJsonp=window.webpackJsonp||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=r;o.push([0,"chunk-vendors"]),a()}({0:function(e,t,a){e.exports=a("56d7")},"0836":function(e,t){},"0ce0":function(e,t,a){},"0f59":function(e,t,a){},"0f99":function(e,t,a){},1:function(e,t){},1258:function(e,t,a){},"1edb":function(e,t,a){"use strict";var i=a("fb08");a.n(i).a},2:function(e,t){},"32f9":function(e,t,a){"use strict";var i=a("0ce0");a.n(i).a},"33d4":function(e,t,a){"use strict";var i=a("9d8a");a.n(i).a},"34d5":function(e,t,a){"use strict";var i=a("a380");a.n(i).a},3516:function(e,t,a){"use strict";var i=a("8f46");a.n(i).a},4260:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return r})),a("7f7f"),a("6b54"),a("a481");var i=a("f576"),n=function(e,t){return e?(new i).update(e+(t||"")).digest("hex"):null};function o(e,t,a){if(!t)return a(new Error("请输入用户名"));a()}function l(e,t,a){if(!t)return a(new Error("请输入密码"));a()}var s={setItem:function(e,t){e&&t&&localStorage.setItem(e,t)},getItem:function(e){return e&&localStorage.getItem(e)||""},removeItem:function(e){e&&localStorage.removeItem(e)},clear:function(){localStorage.clear()}};function r(e,t,a){return t?/http[s]{0,1}:\/\/([\w.]+\/?)\S*/.test(t)?void a():a(new Error("请以http或https开头")):a(new Error("请输入用户名"))}},"4d7f":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("8e6e"),core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__),_media_qiphon_qiphon_rb_work_frontend_vue_admin_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("bd86"),_media_qiphon_qiphon_rb_work_frontend_vue_admin_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("75fc"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__),_GenerateFormItem__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5531"),_util_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("4260");function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){Object(_media_qiphon_qiphon_rb_work_frontend_vue_admin_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}__webpack_exports__.a={name:"fm-generate-form",components:{GenetateFormItem:_GenerateFormItem__WEBPACK_IMPORTED_MODULE_5__.a},props:["data","remote","value","insite"],data:function(){return{models:{},rules:{}}},created:function(){this.generateModle(this.data.list)},mounted:function(){},methods:{generateModle:function generateModle(genList){for(var _this=this,i=0;i<genList.length;i++)"grid"===genList[i].type?genList[i].columns.forEach((function(e){_this.generateModle(e.list)})):(this.value&&Object.keys(this.value).indexOf(genList[i].model)>=0?this.models[genList[i].model]=this.value[genList[i].model]:"blank"===genList[i].type?this.$set(this.models,genList[i].model,"String"===genList[i].options.defaultType?"":"Object"===genList[i].options.defaultType?{}:[]):this.models[genList[i].model]=genList[i].options.defaultValue,this.rules[genList[i].model]?this.rules[genList[i].model]=[].concat(Object(_media_qiphon_qiphon_rb_work_frontend_vue_admin_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(this.rules[genList[i].model]),Object(_media_qiphon_qiphon_rb_work_frontend_vue_admin_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(genList[i].rules.map((function(item){return item.pattern?_objectSpread({},item,{pattern:eval(item.pattern)}):_objectSpread({},item)})))):this.rules[genList[i].model]=Object(_media_qiphon_qiphon_rb_work_frontend_vue_admin_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(genList[i].rules.map((function(item){return item.pattern?_objectSpread({},item,{pattern:eval(item.pattern)}):_objectSpread({},item)}))))},getData:function(){var e=this;return new Promise((function(t,a){e.$refs.generateForm.validate((function(i){i?t(e.models):a(new Error(e.$t("fm.message.validError")).message)}))}))},reset:function(){this.$refs.generateForm.resetFields()},onInputChange:function(e,t){this.$emit("on-change",t,e,this.models)},refresh:function(){}},watch:{data:{deep:!0,handler:function(e){this.generateModle(e.list)}},value:{deep:!0,handler:function(e){this.models=_objectSpread({},this.models,{},e)}}}}},"53bb":function(e,t,a){"use strict";var i=a("ce2b");a.n(i).a},5531:function(e,t,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var i=a("bd86");function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var o={props:["widget","models","rules","remote"],components:{FmUpload:a("c7f0").a},data:function(){return{dataModel:this.models[this.widget.model]}},created:function(){var e=this;this.widget.options.remote&&this.remote[this.widget.options.remoteFunc]&&this.remote[this.widget.options.remoteFunc]((function(t){e.widget.options.remoteOptions=t.map((function(t){return{value:t[e.widget.options.props.value],label:t[e.widget.options.props.label],children:t[e.widget.options.props.children]}}))})),"imgupload"===this.widget.type&&this.widget.options.isQiniu&&this.remote[this.widget.options.tokenFunc]((function(t){e.widget.options.token=t}))},methods:{},watch:{dataModel:{deep:!0,handler:function(e){this.models[this.widget.model]=e,this.$emit("update:models",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.models,Object(i.a)({},this.widget.model,e))),this.$emit("input-change",e,this.widget.model)}},models:{deep:!0,handler:function(e){this.dataModel=e[this.widget.model]}}}},l=a("2877"),s=Object(l.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form-item",{attrs:{label:e.widget.name,prop:e.widget.model}},["input"==e.widget.type?["number"==e.widget.options.dataType||"integer"==e.widget.options.dataType||"float"==e.widget.options.dataType?a("el-input",{style:{width:e.widget.options.width},attrs:{type:"number",placeholder:e.widget.options.placeholder,disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=e._n(t)},expression:"dataModel"}}):a("el-input",{style:{width:e.widget.options.width},attrs:{type:e.widget.options.dataType,disabled:e.widget.options.disabled,placeholder:e.widget.options.placeholder},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"textarea"==e.widget.type?[a("el-input",{style:{width:e.widget.options.width},attrs:{type:"textarea",rows:5,disabled:e.widget.options.disabled,placeholder:e.widget.options.placeholder},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"number"==e.widget.type?[a("el-input-number",{style:{width:e.widget.options.width},attrs:{step:e.widget.options.step,"controls-position":"right",disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"radio"==e.widget.type?[a("el-radio-group",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,(function(t,i){return a("el-radio",{key:i,style:{display:e.widget.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e.widget.options.remote?[e._v(e._s(t.label))]:[e._v(e._s(e.widget.options.showLabel?t.label:t.value))]],2)})),1)]:e._e(),"checkbox"==e.widget.type?[a("el-checkbox-group",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,(function(t,i){return a("el-checkbox",{key:i,style:{display:e.widget.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e.widget.options.remote?[e._v(e._s(t.label))]:[e._v(e._s(e.widget.options.showLabel?t.label:t.value))]],2)})),1)]:e._e(),"time"==e.widget.type?[a("el-time-picker",{style:{width:e.widget.options.width},attrs:{"is-range":e.widget.options.isRange,placeholder:e.widget.options.placeholder,"start-placeholder":e.widget.options.startPlaceholder,"end-placeholder":e.widget.options.endPlaceholder,readonly:e.widget.options.readonly,disabled:e.widget.options.disabled,editable:e.widget.options.editable,clearable:e.widget.options.clearable,arrowControl:e.widget.options.arrowControl,"value-format":e.widget.options.format},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"date"==e.widget.type?[a("el-date-picker",{style:{width:e.widget.options.width},attrs:{type:e.widget.options.type,placeholder:e.widget.options.placeholder,"start-placeholder":e.widget.options.startPlaceholder,"end-placeholder":e.widget.options.endPlaceholder,readonly:e.widget.options.readonly,disabled:e.widget.options.disabled,editable:e.widget.options.editable,clearable:e.widget.options.clearable,"value-format":e.widget.options.timestamp?"timestamp":e.widget.options.format,format:e.widget.options.format},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"rate"==e.widget.type?[a("el-rate",{attrs:{max:e.widget.options.max,disabled:e.widget.options.disabled,"allow-half":e.widget.options.allowHalf},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"color"==e.widget.type?[a("el-color-picker",{attrs:{disabled:e.widget.options.disabled,"show-alpha":e.widget.options.showAlpha},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"select"==e.widget.type?[a("el-select",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,multiple:e.widget.options.multiple,clearable:e.widget.options.clearable,placeholder:e.widget.options.placeholder,filterable:e.widget.options.filterable},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:e.widget.options.showLabel||e.widget.options.remote?t.label:t.value}})})),1)]:e._e(),"switch"==e.widget.type?[a("el-switch",{attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"slider"==e.widget.type?[a("el-slider",{style:{width:e.widget.options.width},attrs:{min:e.widget.options.min,max:e.widget.options.max,disabled:e.widget.options.disabled,step:e.widget.options.step,"show-input":e.widget.options.showInput,range:e.widget.options.range},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"imgupload"==e.widget.type?[a("fm-upload",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,width:e.widget.options.size.width,height:e.widget.options.size.height,token:e.widget.options.token,domain:e.widget.options.domain,multiple:e.widget.options.multiple,length:e.widget.options.length,"is-qiniu":e.widget.options.isQiniu,"is-delete":e.widget.options.isDelete,min:e.widget.options.min,"is-edit":e.widget.options.isEdit,action:e.widget.options.action},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"editor"==e.widget.type?[a("vue-editor",{style:{width:e.widget.options.width},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"cascader"==e.widget.type?[a("el-cascader",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,clearable:e.widget.options.clearable,placeholder:e.widget.options.placeholder,options:e.widget.options.remoteOptions},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"text"==e.widget.type?[a("span",[e._v(e._s(e.dataModel))])]:e._e()],2)}),[],!1,null,null,null);t.a=s.exports},"56d7":function(e,t,a){"use strict";a.r(t),a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),n={name:"app",created:function(){},updated:function(){},methods:{}},o=(a("5c0b"),a("2877")),l=Object(o.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"fm-container"},[t("router-view")],1)])}),[],!1,null,null,null).exports,s=a("8c4f"),r={mounted:function(){}},d=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("fm-making-form",{ref:"makingForm",attrs:{upload:"",preview:"","generate-code":"","generate-json":"",clearable:""}},[t("template",{slot:"action"})],2)}),[],!1,null,null,null).exports,c={mounted:function(){}},p=Object(o.a)(c,(function(){var e=this.$createElement,t=this._self._c||e;return t("edit-making-form",{ref:"Editmakingform",attrs:{upload:"",preview:"","generate-code":"","generate-json":"",clearable:""}},[t("template",{slot:"action"})],2)}),[],!1,null,null,null).exports,u=a("4260"),m=(a("ac6a"),a("ffc1"),a("8e6e"),a("456d"),a("bd86")),f=a("bc3a"),h=a.n(f),g=a("2f62");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a("0836");var y={namespaced:!0,state:{form:{},showLoading:!0,error:{},templateAll:{},order_sn:"",imgList:{}},mutations:{changeForm:function(e,t){return e.form=v({},e.form,{},t)},clearForm:function(e){return e.form={}},changeLoading:function(e,t){return e.showLoading=t},changeTem:function(e,t){return e.templateAll=v({},e.templateAll,{},t)},changeErr:function(e,t){return e.error=v({},e.error,{},t)},changeSN:function(e,t){return e.order_sn=t},changeImg:function(e,t){return e.imgList=v({},e.imgList,{},t)}},actions:{},getters:{}};i.default.use(g.a);var _=u.a.getItem("userData");_=_?JSON.parse(_):{};var w=u.a.getItem("headers");w=w?JSON.parse(w):{};var k=new g.a.Store({strict:!1,state:{userData:_,headers:w},getters:{},mutations:{updateUsername:function(e,t){e.userData=t.data,u.a.setItem("userData",JSON.stringify(t.data))},updateHeaders:function(e,t){e.headers=t,u.a.setItem("headers",JSON.stringify(t))},delUsername:function(){u.a.clear()}},actions:{},modules:{h5:y}}),O=a("5c96"),x=a.n(O);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}h.a.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",h.a.interceptors.request.use((function(e){return k.state.userData.username&&(e.headers["access-token"]="".concat(k.state.userData.token)),e}),(function(e){return Promise.reject(e)})),h.a.interceptors.response.use((function(e){var t=e&&e.data;if(t.message,400==+t.code&&(window.localStorage.clear(),window.location.href=window.location.origin+"/login"),t&&200!=t.code){var a=t.message;return a&&a.length>0?Object(O.Message)({showClose:!0,message:a,type:"warning"}):Object(O.Message)({showClose:!0,message:"网络异常",type:"warning"}),Promise.reject(e)}return e}),(function(e){if(e.response&&e.response.data){var t=e.response.data.message;t&&t.length>0?Object(O.Message)({showClose:!0,message:t,type:"warning"}):Object(O.Message)({showClose:!0,message:"网络异常",type:"warning"})}return Promise.reject(e)}));var $={baseURL:"https://df.api.5izhuan.com",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!1},D={base:function(e){return new Promise((function(t,a){h()(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},$,{},e)).then((function(e){t(e)})).catch((function(e){a(e)}))}))},get:function(e,t){var a={url:e,method:"get",params:t};return this.base(a)},post:function(e,t){var a={url:e,method:"post",data:t};return this.base(a)},put:function(e,t){var a={url:e,method:"put",data:t};return this.base(a)},delete:function(e,t){var a={url:e,method:"delete",data:t};return this.base(a)}},C={login:function(e,t){var a=new FormData;return a.append("username",e),a.append("password",Object(u.e)(t)),D.post("/admin/login",a)},getFormList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=new FormData;return n.append("sn",e),n.append("name",t),n.append("admin_id",a),n.append("page",i),D.post("/admin/getFormGroupList",n)},getTenant:function(){return D.post("/admin/getTenant")},editFormGroup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",r=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",d=new FormData;return d.append("id",e),d.append("name",t),d.append("admin_id",a),d.append("push_url",i),d.append("push_type",n),d.append("status",o),d.append("template_ids",l),d.append("callback_url",s),d.append("remark",r),D.post("/admin/editFormGroup",d)},addFormGroup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",r=new FormData;return r.append("name",e),r.append("admin_id",t),r.append("push_url",a),r.append("push_type",i),r.append("status",n),r.append("template_ids",o),r.append("callback_url",l),r.append("remark",s),D.post("/admin/addFormGroup",r)},getTemplate:function(){return D.post("/admin/getTemplate")},getTenantList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=new FormData;return i.append("name",e),i.append("username",t),i.append("page",a),D.post("/admin/getTenantList",i)},editTenant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=new FormData;return o.append("id",e),o.append("name",t),o.append("username",a),o.append("status",i),o.append("remark",n),D.post("/admin/editTenant",o)},addTenant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=new FormData;return o.append("name",e),o.append("username",t),o.append("password",Object(u.e)(a)),o.append("status",i),o.append("remark",n),D.post("/admin/addTenant",o)},lookFormGroup:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=new FormData;return e.append("name",name),D.post("/admin/lookFormGroup")},addTemplate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=new FormData;return a.append("name",e),a.append("content",t),D.post("/admin/addTemplate",a)},getTemplateLists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=new FormData;return o.append("name",e),o.append("admin_id",t),o.append("group_id",a),o.append("page",i),o.append("step",n),D.post("/admin/getTemplateLists",o)},getFormGroup:function(){return D.post("/admin/getFormGroup")},getTemplateInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new FormData;return t.append("id",e),D.post("/admin/getTemplateInfo",t)},editTemplate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=new FormData;return i.append("id",e),i.append("name",t),i.append("content",a),D.post("/admin/editTemplate",i)},getTemplates:function(e){var t=new FormData;return t.append("mark",e),D.post("/frontend/getTemplates",t)},orderOperate:function(e,t,a){var i=new FormData;i.append("mark",e),i.append("data",JSON.stringify(t)),i.append("order_sn",k.state.h5.order_sn||"");var n=Object.entries(a);return n.length&&n.forEach((function(e){e[1].length&&e[1].forEach((function(t){t.raw?i.append(e[0],t.raw):i.append(e[0],JSON.stringify(t))}))})),D.post("/frontend/orderOperate",i)},getAreaList:function(e,t){var a=new FormData;return a.append("pid",t||""),D.post(e||"/frontend/getAreaList",a)}},P={data:function(){return{login:{username:"",password:""},rules:{username:{validator:u.d,trigger:"blur"},password:{validator:u.b,trigger:"blur"}}}},methods:{submitData:function(e){var t=this;this.$refs[e].validate((function(e){e&&C.login(t.login.username,t.login.password).then((function(e){var a=e.status,i=e.data,n=e.headers;200==+a&&(t.$message({showClose:!0,message:"登陆成功",type:"success"}),t.$store.commit("updateUsername",i),t.$store.commit("updateHeaders",n),t.$router.push("/formList"))})).catch((function(e){var a=e.data;t.$message({showClose:!0,message:a.message,type:"warning"})}))}))}}},F=(a("b8c8"),Object(o.a)(P,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-login"},[a("div",{staticClass:"login-container"},[a("h1",[e._v("请您登录")]),a("el-form",{ref:"login",attrs:{model:e.login,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.login.username,callback:function(t){e.$set(e.login,"username",t)},expression:"login.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1),a("el-button",{staticClass:"submit-btn",attrs:{type:"success"},on:{click:function(t){return e.submitData("login")}}},[e._v("登录")])],1)],1)])}),[],!1,null,null,null).exports),S={data:function(){return{menu:[{title:"租户管理",className:"el-icon-menu",children:[{title:"租户管理",url:"/userList"}]},{title:"表单组管理",className:"el-icon-s-grid",children:[{title:"表单组管理",url:"/formgroupList"}]},{title:"表单管理",className:"el-icon-menu",children:[{title:"表单管理",url:"/formlist"}]}],menu1:[{title:"表单组管理",className:"el-icon-s-grid",children:[{title:"表单组管理",url:"/formgroupList"}]},{title:"表单管理",className:"el-icon-menu",children:[{title:"表单管理",url:"/formlist"}]}],IsMenu:[]}},created:function(){"1"===this.$store.state.userData.is_super?this.IsMenu=this.menu:this.IsMenu=this.menu1},methods:{logout:function(){this.$store.commit("delUsername")}}},T=(a("97c2"),Object(o.a)(S,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"page-home"},[a("el-header",[a("router-link",{attrs:{to:"/",tag:"h2"}},[e._v("后台管理系统")]),a("div",{staticClass:"status"},[a("span",[e._v("您好")]),a("strong",[e._v(e._s(this.$store.state.userData.username))]),a("span",[e._v("欢迎回来！")]),a("a",{attrs:{href:"/login"},on:{click:e.logout}},[e._v("退出")])])],1),a("el-container",[a("el-aside",{attrs:{width:"250px"}},[a("el-menu",e._l(e.IsMenu,(function(t,i){return a("el-submenu",{key:i,attrs:{index:String(i)}},[a("template",{slot:"title"},[a("i",{class:t.className}),a("span",[e._v(e._s(t.title))])]),e._l(t.children,(function(t,n){return a("el-menu-item",{key:n,attrs:{index:i+"-"+n}},[a("router-link",{attrs:{tag:"span",to:t.url}},[e._v(e._s(t.title))])],1)}))],2)})),1)],1),a("el-main",[a("router-view")],1)],1)],1)}),[],!1,null,"0dd7452c",null).exports),V=(a("4f7f"),a("5df3"),a("1c4c"),a("7f7f"),{data:function(){return{editData:{name:"",admin_id:"",push_url:"",push_type:"",status:"",template_ids:"1",callback_url:"",remark:"",template_arr:[" "]},rules:{name:[{required:!0,message:"请输入表单名称",trigger:"blur"}],admin_id:[{required:!0,message:"请选择所属租户",trigger:"blur"}],template_id:[{required:!0,message:"请选择表单",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}],push_type:[{required:!0,message:"请选择数据推送方式：",trigger:"blur"}],push_url:[{required:!0,message:"请填写数据推送URL：",trigger:"blur"},{validator:u.c,trigger:"blur"}],callback_url:[{required:!0,message:"请填写数据推送URL：",trigger:"blur"},{validator:u.c,trigger:"blur"}]},getTenant:[],status:[{id:"0",name:"失效"},{id:"1",name:"正常"}],pushType:[{id:"0",name:"分步保存"},{id:"1",name:"统一保存"}],getTemplate:[],loading:!1}},created:function(){this.getData()},methods:{getData:function(){var e=this;C.getTenant().then((function(t){var a=t.data.data;e.getTenant=a})),C.getTemplate().then((function(t){var a=t.data.data;e.getTemplate=a}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.loading=!0;var a=t.editData,i=a.name,n=a.admin_id,o=a.push_url,l=a.push_type,s=a.status,r=a.template_ids,d=a.callback_url,c=a.remark;r=a.template_arr.join(","),C.addFormGroup(i,n,o,l,s,r,d,c).then((function(e){200==+e.data.code?t.$router.push("/formgroupList"):t.$message({showClose:!0,message:"添加失败",type:"warning"})})),t.loading=!1}))},resetForm:function(e){this.$refs[e].resetFields()},changeFun:function(e,t){var a=this.editData.template_arr,i=Array.from(new Set(a));if(i.length!=a.length)return this.editData.template_arr=i,this.editData.template_ids=a.join(","),void this.$message({showClose:!0,message:"表单不能重复",type:"warning"});this.editData.template_arr=i,this.$forceUpdate()},addTemplate:function(){var e=this.editData.template_arr;e.push(""),this.editData.template_ids=e.join(","),this.editData.template_arr=e,this.$forceUpdate()},delTemplate:function(e){var t=this.editData.template_arr;t.splice(e,1),this.editData.template_ids=t.join(","),this.editData.template_arr=t,this.$forceUpdate()}}}),L=(a("a02c"),Object(o.a)(V,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"createForm"},[a("div",{staticClass:"create_Form_header"},[e._m(0),a("div",{staticClass:"create_Form_header_right"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")])],1)]),a("div",{staticClass:"create_From_content"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.editData,rules:e.rules,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"表单名称",prop:"name"}},[a("el-input",{model:{value:e.editData.name,callback:function(t){e.$set(e.editData,"name",t)},expression:"editData.name"}})],1),a("el-form-item",{attrs:{label:"所属租户：",prop:"admin_id",placeholder:"请选择所属租户"}},[a("el-select",{attrs:{placeholder:"请选择所属租户"},model:{value:e.editData.admin_id,callback:function(t){e.$set(e.editData,"admin_id",t)},expression:"editData.admin_id"}},e._l(e.getTenant,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"表单："}},[e._l(e.editData.template_arr,(function(t,i){return a("div",{key:i,staticClass:"formlist"},[a("el-select",{key:t+i+t,attrs:{placeholder:"请选择表单"},on:{change:function(t){return e.changeFun(t,i)}},model:{value:e.editData.template_arr[i],callback:function(t){e.$set(e.editData.template_arr,i,t)},expression:"editData.template_arr[index]"}},e._l(e.getTemplate,(function(e){return a("el-option",{key:e.id+2,attrs:{label:e.name,value:e.id}})})),1),a("i",{key:t+i+t+t,staticClass:"el-icon-remove",on:{click:function(t){return e.delTemplate(i)}}})],1)})),a("i",{staticClass:"el-icon-circle-plus",on:{click:function(t){return e.addTemplate()}}})],2),a("el-form-item",{attrs:{label:"数据拖送方式：",prop:"push_type",placeholder:"请选择数据拖送方式："}},[a("el-select",{attrs:{placeholder:"请选择数据拖送方式："},model:{value:e.editData.push_type,callback:function(t){e.$set(e.editData,"push_type",t)},expression:"editData.push_type"}},e._l(e.pushType,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"数据推送URL：",prop:"push_url",placeholder:"请选择回调页面URL"}},[a("el-input",{attrs:{placeholder:"请填写数据推动URL：以http或以https开头"},model:{value:e.editData.push_url,callback:function(t){e.$set(e.editData,"push_url",t)},expression:"editData.push_url"}})],1),a("el-form-item",{attrs:{label:"状态：",prop:"status",placeholder:"请选择状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.editData.status,callback:function(t){e.$set(e.editData,"status",t)},expression:"editData.status"}},e._l(e.status,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"回调页面URL：",prop:"callback_url",placeholder:"请选择回调页面URL"}},[a("el-input",{attrs:{placeholder:"请填写回调页面URL：以http或以https开头"},model:{value:e.editData.callback_url,callback:function(t){e.$set(e.editData,"callback_url",t)},expression:"editData.callback_url"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark",placeholder:"请填写内容"},model:{value:e.editData.remark,callback:function(t){e.$set(e.editData,"remark",t)},expression:"editData.remark"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.editData.remark,callback:function(t){e.$set(e.editData,"remark",t)},expression:"editData.remark"}})],1)],1)],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"create_Form_header_left"},[t("h1",[this._v("创建表单")])])}],!1,null,null,null).exports),E={data:function(){return{rules:{name:[{required:!0,message:"请输入租户名称",trigger:"blur"}],username:[{required:!0,message:"请输入租户账号",trigger:"blur"}],password:[{required:!0,message:"请输入租户密码",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},editData:{name:"",username:"",password:"",status:"",remark:""},status:[{id:"0",name:"失效"},{id:"1",name:"正常"}],loading:!1}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=t.editData,i=a.name,n=a.username,o=a.password,l=a.status,s=a.remark;t.loading=!0,C.addTenant(i,n,o,l,s).then((function(e){200==+e.data.code?t.$router.push("/userList"):t.$message({showClose:!0,message:"添加失败",type:"warning"}),t.loading=!1})).catch((function(e){e.data,t.loading=!1}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},I=(a("8ebb"),Object(o.a)(E,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"createForm"},[a("div",{staticClass:"create_Form_header"},[e._m(0),a("div",{staticClass:"create_Form_header_right"},[a("el-button",{attrs:{size:"medium"}},[e._v("重置")]),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")])],1)]),a("div",{staticClass:"create_From_content"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.editData,rules:e.rules,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"租户名称",prop:"name"}},[a("el-input",{model:{value:e.editData.name,callback:function(t){e.$set(e.editData,"name",t)},expression:"editData.name"}})],1),a("el-form-item",{attrs:{label:"租户账号",prop:"username"}},[a("el-input",{model:{value:e.editData.username,callback:function(t){e.$set(e.editData,"username",t)},expression:"editData.username"}})],1),a("el-form-item",{attrs:{label:"租户密码",prop:"password"}},[a("el-input",{model:{value:e.editData.password,callback:function(t){e.$set(e.editData,"password",t)},expression:"editData.password"}})],1),a("el-form-item",{attrs:{label:"状态：",prop:"status",placeholder:"请选择状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.editData.status,callback:function(t){e.$set(e.editData,"status",t)},expression:"editData.status"}},e._l(e.status,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.editData.remark,callback:function(t){e.$set(e.editData,"remark",t)},expression:"editData.remark"}})],1)],1)],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"create_Form_header_left"},[t("h1",[this._v("新建租户")])])}],!1,null,null,null).exports),M=(a("28a5"),{data:function(){return{formInline:{sn:"",name:"",admin_id:"",page:""},total:"",tableData:[],getTenant:[],editData:{sn:"",name:"",admin_id:"",push_url:"",push_type:"",status:"",template_ids:"",callback_url:"",remark:""},dialogFormVisible:!1,formLabelWidth:"120px",rules:{name:[]},getTemplate:[],status:[{id:"0",name:"失效"},{id:"1",name:"正常"}],pushType:[{id:"0",name:"分步保存"},{id:"1",name:"统一保存"}],loading:!0,editLoding:!1}},created:function(){this.getData()},methods:{getData:function(){var e=this;C.getFormList().then((function(t){var a=t.data,i=(a.code,a.data);e.tableData=i.data,e.total=i.total,e.loading=!1})),C.getTenant().then((function(t){var a=t.data.data;e.getTenant=a})),C.getTemplate().then((function(t){var a=t.data.data;e.getTemplate=a}))},onClose:function(){this.dialogFormVisible=!1,this.getFormListFun()},onSubmit:function(){this.formInline.page=1,this.getFormListFun()},onReset:function(){this.formInline={sn:"",name:"",admin_id:"",page:""},this.getFormListFun()},getFormListFun:function(){var e=this;C.getFormList(this.formInline.sn,this.formInline.name,this.formInline.admin_id,this.formInline.page).then((function(t){var a=t.data,i=(a.code,a.data);e.tableData=i.data,e.total=i.total}))},handleClick:function(e){var t=e.row,a=t.template_ids;t.template_arr=a.split(","),this.editData=t,this.dialogFormVisible=!0},createNewForm:function(){this.$router.push("/formCreate")},editDataFun:function(){var e=this,t=this.editData,a=t.id,i=t.name,n=t.admin_id,o=t.push_url,l=t.push_type,s=t.status,r=t.template_ids,d=t.callback_url,c=t.remark;this.editLoding=!0,C.editFormGroup(a,i,n,o,l,s,r,d,c).then((function(t){200==+t.data.code?(e.dialogFormVisible=!1,e.getData()):e.$message({showClose:!0,message:"修改失败",type:"warning"}),e.editLoding=!1}))},changeFun:function(e,t){var a=this.editData.template_arr;a[t]=e,this.editData.template_ids=a.join(","),this.editData.template_arr=a,this.$forceUpdate()},addTemplate:function(){var e=this.editData.template_arr;e.push(" "),this.editData.template_ids=e.join(","),this.editData.template_arr=e,this.$forceUpdate()},delTemplate:function(e){var t=this.editData.template_arr;t.splice(e,1),this.editData.template_ids=t.join(","),this.editData.template_arr=t,this.$forceUpdate()},handleCurrentChange:function(e){this.formInline.page=e,this.getFormListFun()}}}),R=(a("a2f3"),Object(o.a)(M,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"listForm"},[a("div",{staticClass:"createForm_header"},[a("div",{staticClass:"create_header_left"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{size:"small"}},[a("el-input",{attrs:{placeholder:"表单名称"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),a("el-form-item",{attrs:{size:"small"}},[a("el-input",{attrs:{placeholder:"表单编号"},model:{value:e.formInline.sn,callback:function(t){e.$set(e.formInline,"sn",t)},expression:"formInline.sn"}})],1),a("el-form-item",{attrs:{size:"small"}},[a("el-select",{attrs:{placeholder:"请选择所属租户"},model:{value:e.formInline.admin_id,callback:function(t){e.$set(e.formInline,"admin_id",t)},expression:"formInline.admin_id"}},e._l(e.getTenant,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onReset}},[e._v("重置")])],1)],1)],1),a("div",{staticClass:"create_header_rifth"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createNewForm()}}},[e._v("新建表单组")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"sn",label:"表单组编号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"表单组名称",width:"180"}}),a("el-table-column",{attrs:{prop:"admin_name",label:"所属租户"}}),a("el-table-column",{attrs:{prop:"push_url",label:"数据推送URL"}}),a("el-table-column",{attrs:{prop:"callback_url",label:"页面回调URl"}}),a("el-table-column",{attrs:{prop:"update_time",label:"最近修改时间"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("1"===t.row.status?"正常":"失效"))]}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleClick(t)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:+e.total},on:{"current-change":function(t){return e.handleCurrentChange(t)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogFormVisible,expression:"dialogFormVisible"}],staticClass:"model"},[a("div",{staticClass:"content"},[a("div",{staticClass:"content_header"},[a("h1",[e._v("基础信息")]),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editDataFun()}}},[e._v("提交")])],1)]),a("div",{staticClass:"content_body"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading:editLoding",arg:"editLoding"}],ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.editData,rules:e.rules,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"表单组名称：",prop:"name",placeholder:"请选择表单组名称"}},[a("el-input",{model:{value:e.editData.name,callback:function(t){e.$set(e.editData,"name",t)},expression:"editData.name"}})],1),a("el-form-item",{attrs:{label:"所属租户：",prop:"admin_name",placeholder:"请选择所属租户"}},[a("el-select",{attrs:{placeholder:"请选择所属租户"},model:{value:e.editData.admin_id,callback:function(t){e.$set(e.editData,"admin_id",t)},expression:"editData.admin_id"}},e._l(e.getTenant,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"数据拖送URL：",prop:"push_url",placeholder:"请选择数据拖送URL"}},[a("el-input",{model:{value:e.editData.push_url,callback:function(t){e.$set(e.editData,"push_url",t)},expression:"editData.push_url"}})],1),a("el-form-item",{attrs:{label:"数据拖送方式：",prop:"push_type",placeholder:"请选择数据拖送方式："}},[a("el-select",{attrs:{placeholder:"请选择数据拖送方式："},model:{value:e.editData.push_type,callback:function(t){e.$set(e.editData,"push_type",t)},expression:"editData.push_type"}},e._l(e.pushType,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"状态：",prop:"status",placeholder:"请选择状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.editData.status,callback:function(t){e.$set(e.editData,"status",t)},expression:"editData.status"}},e._l(e.status,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"表单："}},[e._l(e.editData.template_arr,(function(t,i){return a("div",{key:i,staticClass:"formlist"},[a("el-select",{key:t+i+t,attrs:{placeholder:"请选择表单"},on:{change:function(t){return e.changeFun(t,i)}},model:{value:e.editData.template_arr[i],callback:function(t){e.$set(e.editData.template_arr,i,t)},expression:"editData.template_arr[index]"}},e._l(e.getTemplate,(function(e){return a("el-option",{key:e.id+2,attrs:{label:e.name,value:e.id}})})),1),a("i",{key:t+i+t+t,staticClass:"el-icon-remove",on:{click:function(t){return e.delTemplate(i)}}})],1)})),a("i",{staticClass:"el-icon-circle-plus",on:{click:function(t){return e.addTemplate()}}})],2),a("el-form-item",{attrs:{label:"回调页面URL：",prop:"callback_url",placeholder:"请选择回调页面URL"}},[a("el-input",{model:{value:e.editData.callback_url,callback:function(t){e.$set(e.editData,"callback_url",t)},expression:"editData.callback_url"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark",placeholder:"请填写内容"},model:{value:e.editData.remark,callback:function(t){e.$set(e.editData,"remark",t)},expression:"editData.remark"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.editData.remark,callback:function(t){e.$set(e.editData,"remark",t)},expression:"editData.remark"}})],1)],1)],1),a("div",{staticClass:"content_footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.onClose}},[e._v("关闭")])],1)])])],1)}),[],!1,null,"4d8727ca",null).exports),z={data:function(){return{formInline:{name:"",admin_id:"",page:"",group_id:"",step:""},total:"",tableData:[],getTenant:[],editData:{name:"",admin_id:"",push_url:"",push_type:"",status:"",template_ids:"",callback_url:"",remark:""},dialogFormVisible:!1,formLabelWidth:"120px",rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}]},FormGroup:[],status:[{id:"0",name:"失效"},{id:"1",name:"正常"}],pushType:[{id:"0",name:"分步保存"},{id:"1",name:"统一保存"}],loading:!0}},created:function(){this.getData()},methods:{renderAdmin:function(e){var t="";return this.getTenant.forEach((function(a){+a.id==+e&&(t=a.name)})),t},rendergroup:function(e){var t="";return this.FormGroup.forEach((function(a){e===+e&&(t=a.name)})),t},getData:function(){var e=this;C.getTemplateLists().then((function(t){var a=t.data,i=(a.code,a.data);e.tableData=i.data,e.total=i.total,e.loading=!1})),C.getTenant().then((function(t){var a=t.data.data;e.getTenant=a})),C.getFormGroup().then((function(t){var a=t.data.data;e.FormGroup=a}))},onSubmit:function(){this.formInline.page=1,this.getFormListFun()},onReset:function(){this.formInline={sn:"",name:"",admin_id:"",page:""},this.getFormListFun()},getFormListFun:function(){var e=this;C.getTemplateLists(this.formInline.name,this.formInline.admin_id,this.formInline.group_id,this.formInline.page,this.formInline.step).then((function(t){var a=t.data,i=(a.code,a.data);e.tableData=i.data,e.total=i.total}))},handleClick:function(e){var t=this;this.$alert("确定修改表单编号".concat(e.id,"吗？"),"表单提交",{showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",callback:function(a){"confirm"===a&&t.$router.push("formEdit?id=".concat(e.id))}})},createNewForm:function(){this.$router.push("/formHome")},editDataFun:function(){var e=this,t=this.editData,a=t.id,i=t.name,n=t.admin_id,o=t.push_url,l=t.push_type,s=t.status,r=t.template_ids,d=t.callback_url,c=t.remark;C.editFormGroup(a,i,n,o,l,s,r,d,c).then((function(t){200==+t.data.code?(e.dialogFormVisible=!1,e.getData()):e.$message({showClose:!0,message:"修改失败",type:"warning"})}))},changeFun:function(e,t){var a=this.editData.template_arr;a[t]=e,this.editData.template_ids=a.join(","),this.editData.template_arr=a,this.$forceUpdate()},addTemplate:function(){var e=this.editData.template_arr;e.push("1"),this.editData.template_ids=e.join(","),this.editData.template_arr=e,this.$forceUpdate()},delTemplate:function(e){var t=this.editData.template_arr;t.splice(e,1),this.editData.template_ids=t.join(","),this.editData.template_arr=t,this.$forceUpdate()},handleCurrentChange:function(e){this.formInline.page=e,this.getFormListFun()}}},q=(a("34d5"),Object(o.a)(z,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"listForm"},[a("div",{staticClass:"createForm_header"},[a("div",{staticClass:"create_header_left"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,size:"small"}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"表单名称"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),a("el-form-item",{attrs:{size:"small"}},[a("el-select",{attrs:{placeholder:"请选择表单组"},model:{value:e.formInline.group_id,callback:function(t){e.$set(e.formInline,"group_id",t)},expression:"formInline.group_id"}},e._l(e.FormGroup,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{size:"small"}},[a("el-select",{attrs:{placeholder:"请选择所属租户"},model:{value:e.formInline.admin_id,callback:function(t){e.$set(e.formInline,"admin_id",t)},expression:"formInline.admin_id"}},e._l(e.getTenant,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onReset}},[e._v("查询")])],1)],1)],1),a("div",{staticClass:"create_header_rifth"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createNewForm()}}},[e._v("新建表单")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"表单编号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"表单组名称",width:"180"}}),a("el-table-column",{attrs:{prop:"admin_id",label:"所属租户"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.renderAdmin(t.row.admin_id)))]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("1"===t.row.status?"正常":"失效"))]}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleClick(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:+e.total},on:{"current-change":function(t){return e.handleCurrentChange(t)}}})],1)}),[],!1,null,"766d7816",null).exports),A={data:function(){return{formInline:{name:"",username:""},tableData:[],editData:{name:"",username:"",password:"",status:"",remark:""},dialogFormVisible:!1,formLabelWidth:"120px",rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:11,message:"长度在 3 到 5 个字符",trigger:"blur"}]},getTemplate:[],status:[{id:"0",name:"失效"},{id:"1",name:"正常"}],getTenant:[],total:"",loading:!0,editLoding:!1}},created:function(){this.getData()},methods:{filterTag:function(e,t){return t.tag===e},getData:function(){var e=this;C.getTenantList().then((function(t){var a=t.data,i=(a.code,a.data);e.tableData=i.data,e.total=i.total,e.loading=!1})),C.getTenant().then((function(t){var a=t.data.data;e.getTenant=a}))},getFormListFun:function(){var e=this;C.getTenantList(this.formInline.name,this.formInline.username,this.formInline.page).then((function(t){var a=t.data,i=(a.code,a.data);e.tableData=i.data,e.total=i.total}))},onClose:function(){this.dialogFormVisible=!1,this.getFormListFun()},onSubmit:function(){this.formInline.page=1,this.getFormListFun()},onReset:function(){this.formInline={sn:"",name:"",admin_id:"",page:""},this.getFormListFun()},handleClick:function(e){var t=e.row;this.editData=t,this.dialogFormVisible=!0},createNewForm:function(){this.$router.push("/userCreate")},eidtClick:function(){var e=this,t=this.editData,a=t.id,i=t.name,n=t.username,o=t.status,l=t.remark;this.editLoding=!0,C.editTenant(a,i,n,o,l).then((function(t){200==+t.data.code?(e.dialogFormVisible=!1,e.getData()):e.$message({showClose:!0,message:"修改失败",type:"warning"}),e.editLoding=!1}))},handleCurrentChange:function(e){this.formInline.page=e,this.getFormListFun()}}},W=(a("dc05"),Object(o.a)(A,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"listForm"},[a("div",{staticClass:"createForm_header"},[a("div",{staticClass:"create_header_left"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{size:"small"}},[a("el-input",{attrs:{placeholder:"租户名称"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onReset}},[e._v("重置")])],1)],1)],1),a("div",{staticClass:"create_header_rifth"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createNewForm()}}},[e._v("新建租户")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"租户名称",width:"180"}}),a("el-table-column",{attrs:{prop:"username",label:"账号",width:"180"}}),a("el-table-column",{attrs:{prop:"password",label:"密码"}}),a("el-table-column",{attrs:{prop:"update_time",label:"最近操作"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("1"===t.row.status?"正常":"失效")+" ")]}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleClick(t)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:+e.total},on:{"current-change":function(t){return e.handleCurrentChange(t)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogFormVisible,expression:"dialogFormVisible"}],staticClass:"model"},[a("div",{staticClass:"content"},[a("div",{staticClass:"content_header"},[a("h1",[e._v("基础信息")]),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.eidtClick()}}},[e._v("提交")])],1)]),a("div",{staticClass:"content_body"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.editLoding,expression:"editLoding"}],ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.editData,rules:e.rules,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"租户名称：",prop:"name",placeholder:"请填写"}},[a("el-input",{model:{value:e.editData.name,callback:function(t){e.$set(e.editData,"name",t)},expression:"editData.name"}})],1),a("el-form-item",{attrs:{label:"租户账户：",prop:"username",placeholder:"请填写"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.editData.username,callback:function(t){e.$set(e.editData,"username",t)},expression:"editData.username"}})],1),a("el-form-item",{attrs:{label:"租户密码",prop:"password",placeholder:"请选择数据拖送URL"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.editData.password,callback:function(t){e.$set(e.editData,"password",t)},expression:"editData.password"}})],1),a("el-form-item",{attrs:{label:"状态：",prop:"status",placeholder:"请选择状态"}},[a("el-select",{attrs:{placeholder:"请选择所属租户"},model:{value:e.editData.status,callback:function(t){e.$set(e.editData,"status",t)},expression:"editData.status"}},e._l(e.status,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark",placeholder:"请选择回调页面URL"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.editData.remark,callback:function(t){e.$set(e.editData,"remark",t)},expression:"editData.remark"}})],1)],1)],1),a("div",{staticClass:"content_footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.onClose}},[e._v("关闭")])],1)])])],1)}),[],!1,null,null,null).exports),N=a("7618"),U=a("768b"),B={props:{options:Object}},J=Object(o.a)(B,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:e.options.options.gutter,type:e.options.type,justify:e.options.options.justify,align:e.options.options.align}},e._l(e.options.colums,(function(t,i){return a("el-col",{key:i,class:e.options.class,style:e.options.style,attrs:{span:t.span}},[e._t("default")],2)})),1)}),[],!1,null,"d94876d2",null).exports;function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var H={data:function(){return{value:void 0}},props:{options:Object},mounted:function(){var e=this.options.options;this.update(e.defaultValue)},methods:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({update:function(e){this.value=e||"";var t=this.options,a=t.rules,i=t.model,n=t.key,o=t.type,l=t.options,s=Object(m.a)({},n,{rules:l.required&&a,model:i,key:n,type:o,value:e});this.changeForm(s)}},Object(g.b)("h5",["changeForm"]))},Q=Object(o.a)(H,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-radio-group",{attrs:{label:e.options.label,"text-color":e.options.textColor,name:e.options.model},on:{change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options.options.options,(function(e){return a("el-radio",{key:e.value,attrs:{label:e.value,disabled:e.disabled}})})),1)}),[],!1,null,"5a95ceda",null).exports;function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var X={data:function(){return{value:void 0}},props:{options:Object},mounted:function(){var e=this.options.options;this.update(e.defaultValue)},methods:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({update:function(e){this.value=e||"";var t=this.options,a=t.rules,i=t.model,n=t.key,o=t.type,l=t.options,s=Object(m.a)({},n,{rules:l.required&&a,model:i,key:n,type:o,value:e});this.changeForm(s)}},Object(g.b)("h5",["changeForm"]))},Y=Object(o.a)(X,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-input",{attrs:{type:e.options.type,min:e.options.options.min,max:e.options.options.max,step:e.options.options.step||1,placeholder:e.options.options.placeholder},on:{input:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})}),[],!1,null,"4e151c70",null).exports;function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var ee={data:function(){return{value:void 0}},props:{options:Object},mounted:function(){var e=this.options.options;this.update(e.defaultValue)},methods:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({update:function(e){this.value=e||[];var t=this.options,a=t.rules,i=t.model,n=t.key,o=t.type,l=t.options,s=Object(m.a)({},n,{rules:l.required&&a,model:i,key:n,type:o,value:e});this.changeForm(s)}},Object(g.b)("h5",["changeForm"]))},te=Object(o.a)(ee,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-checkbox-group",{attrs:{label:e.options.label,"text-color":e.options.textColor,name:e.options.model,placeholder:e.options.options.placeholder},on:{change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options.options.options,(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.label||t.value,disabled:t.disabled}},[e._v(e._s(t.label||t.value))])})),1)}),[],!1,null,"7203dc15",null).exports;function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var ie={data:function(){return{value:void 0}},props:{options:Object},mounted:function(){var e=this.options.options;this.update(e.defaultValue)},methods:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({update:function(e){this.value=e;var t=this.options,a=t.rules,i=t.model,n=t.key,o=t.type,l=t.options,s=Object(m.a)({},n,{rules:l.required&&a,model:i,key:n,type:o,value:e});this.changeForm(s)}},Object(g.b)("h5",["changeForm"]))},ne=Object(o.a)(ie,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{label:e.options.label,"text-color":e.options.textColor,name:e.options.model,placeholder:e.options.options.placeholder},on:{change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options.options.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value,disabled:e.disabled}})})),1)}),[],!1,null,"3c71b85e",null).exports;function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var le={data:function(){return{value:void 0}},props:{options:Object},mounted:function(){var e=this.options.options;this.update(e.defaultValue)},methods:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({update:function(e){this.value=e||void 0;var t=this.options,a=t.rules,i=t.model,n=t.key,o=t.type,l=t.options,s=Object(m.a)({},n,{rules:l.required&&a,model:i,key:n,type:o,value:e});this.changeForm(s)}},Object(g.b)("h5",["changeForm"]))},se=Object(o.a)(le,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-date-picker",{style:{width:e.options.options.width},attrs:{"value-format":e.options.options.format,type:e.options.options.type,"is-range":e.options.options.isRange,placeholder:e.options.options.placeholder,"start-placeholder":e.options.options.startPlaceholder,"end-placeholder":e.options.options.endPlaceholder,readonly:e.options.options.readonly,disabled:e.options.options.disabled,editable:e.options.options.editable,clearable:e.options.options.clearable},on:{change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})}),[],!1,null,"fb105a4e",null).exports,re={props:{options:Object}},de=Object(o.a)(re,(function(){var e=this.$createElement;return(this._self._c||e)("span",[this._v(this._s(this.options.options.defaultValue))])}),[],!1,null,"70079fe2",null).exports,ce=a("75fc");function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var ue={data:function(){return{value:[],dialogVisible:!1,dialogImageUrl:""}},props:{options:Object},mounted:function(){var e=this.options.options;this.update(e.defaultValue.map((function(e){return{name:"",url:e}})))},computed:{isUp2Limit:function(e){var t=e.options.options.limit||1;return e.value.length>=t?" active ":""}},methods:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({update:function(e){e.length?this.value=[].concat(Object(ce.a)(this.value),Object(ce.a)(e)):e.raw&&this.value.push(e);var t=this.options,a=t.rules,i=t.model,n=t.key,o=t.type,l=t.options,s=Object(m.a)({},n,{rules:l.required&&a,model:i,key:n,type:o,value:this.value}),r=Object(m.a)({},n,this.value);this.changeImg(r),this.changeForm(s)},handleRemove:function(e){var t=this;this.$confirm("确认删除？").then((function(){t.value.forEach((function(a,i){a.url===e.url&&t.value.splice(i,1)}))})).catch((function(){}))},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0}},Object(g.b)("h5",["changeForm","changeImg"]))},me=(a("33d4"),Object(o.a)(ue,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{class:"imgWraper"+e.isUp2Limit,style:{fontSize:e.options.options.size.width+"px"},attrs:{action:"#","list-type":"picture-card",accept:"imgupload"===e.options.type?"image/*":e.options.options.accept,"auto-upload":!1,multiple:e.options.options.multiple,"file-list":e.value,disabled:e.options.options.disabled,limit:1,"on-change":e.update},scopedSlots:e._u([{key:"file",fn:function(t){var i=t.file;return a("div",{},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:i.url,alt:""}}),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(i)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(i)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}])},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)}),[],!1,null,"f2dceed4",null).exports);function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var he={data:function(){return{value:[],finishLen:void 0,num:void 0,selectArr:[],label:{key:"id",value:"title"}}},props:{options:Object},mounted:function(){var e=this,t=this.options.options;this.label={value:t.props.label,key:t.props.value};var a=t.defaultValue;a.length&&(this.value=a,this.getAreaList(),a.forEach((function(t,i){a.length-1>i&&e.getAreaList(t,i+1)}))),this.update(a,null)},computed:{selBox:function(e){return{num:this.num,box:e.selectArr}}},methods:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({update:function(e,t){var a=[];if(null!==t){t=t||0;for(var i=[],n=0;n<=t;n++)this.value[n]&&a.push(this.value[n]),this.selectArr[n]&&i.push(this.selectArr[n]);this.value=a,this.selectArr=i,this.num=t}this.getAreaList(e,"number"==typeof t?t+1:t),null===t&&this.setValue(a),t<this.finishLen&&this.setValue([])},getAreaList:function(e,t){var a=this,i=this.options.options,n=i&&i.remoteFunc;n&&C.getAreaList(n,e||"").then((function(e){t="number"==typeof t?t:0;var i=e&&e.data;200!=+i.code||i.data||(a.finishLen=t,a.setValue(a.value)),200==+i.code&&i.data&&(a.selectArr[t]=i.data,a.num=t)}))},setValue:function(e){var t=this,a=this.selectArr;e&&e.length&&a&&a.length&&e.forEach((function(i,n){var o=a[n].filter((function(a){return a[t.label.key]===e[n]}));e[n]=o[0]}));var i=this.options,n=i.rules,o=i.model,l=i.key,s=i.type,r=i.options,d=Object(m.a)({},l,{rules:r.required&&n,model:o,key:l,type:s,value:e});this.changeForm(d)}},Object(g.b)("h5",["changeForm"]))},ge=(a("1edb"),Object(o.a)(he,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.selBox.box?a("div",{staticClass:"cascaderBox"},e._l(e.selBox.box,(function(t,i){return a("el-select",{key:i,attrs:{label:e.options.label,loading:!1,"loading-text":e.options.loadingText||"加载中 . . .","text-color":e.options.textColor,name:e.options.model,placeholder:e.options.options.placeholder||"请选择"},on:{change:function(t){return e.update(e.value[i],i)}},model:{value:e.value[i],callback:function(t){e.$set(e.value,i,t)},expression:"value[key]"}},[e._l(t,(function(t){return[a("el-option",{key:t[e.label.value||"id"]||t[e.label.key||"title"],attrs:{label:t[e.label.value||"title"]||t[e.label.key||"id"],value:t[e.label.key||"id"]||t[e.label.key||"title"],disabled:t.disabled}})]}))],2)})),1):e._e()}),[],!1,null,"f79aa398",null).exports);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var ve={data:function(){return{value:void 0}},props:{options:Object},mounted:function(){var e=this.options.options;this.update(e.defaultValue)},methods:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({update:function(e){this.value=e||"";var t=this.options,a=t.rules,i=t.model,n=t.key,o=t.type,l=t.options,s=Object(m.a)({},n,{rules:l.required&&a,model:i,key:n,type:o,value:e});this.changeForm(s)}},Object(g.b)("h5",["changeForm"]))},ye=Object(o.a)(ve,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-rate",{attrs:{max:e.options.options.max,disabled:e.options.options.disabled,"allow-half":e.options.options.allowHalf,"show-score":e.options.options.showScore,"text-color":"#ff9900","score-template":"{value}"},on:{change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})}),[],!1,null,"8a9e2d5e",null).exports;function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var we={data:function(){return{value:!1}},props:{options:Object},mounted:function(){var e=this.options.options;this.update(e.defaultValue)},methods:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({update:function(e){this.value=e;var t=this.options,a=t.rules,i=t.model,n=t.key,o=t.type,l=t.options,s=Object(m.a)({},n,{rules:l.required&&a,model:i,key:n,type:o,value:e});this.changeForm(s)}},Object(g.b)("h5",["changeForm"]))},ke=Object(o.a)(we,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-switch",{attrs:{disabled:e.options.options.disabled},on:{change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})}),[],!1,null,"71a9ff0e",null).exports;function Oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var xe={data:function(){return{value:!1}},props:{options:Object},mounted:function(){var e=this.options.options;this.update(e.defaultValue)},methods:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({update:function(e){this.value=e;var t=this.options,a=t.rules,i=t.model,n=t.key,o=t.type,l=t.options,s=Object(m.a)({},n,{rules:l.required&&a,model:i,key:n,type:o,value:e});this.changeForm(s)}},Object(g.b)("h5",["changeForm"]))},je=Object(o.a)(xe,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-slider",{attrs:{min:e.options.options.min,max:e.options.options.max,disabled:e.options.options.disabled,step:e.options.options.step,"show-input":e.options.options.showInput},on:{change:e.update},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})}),[],!1,null,"74406629",null).exports,$e={props:{options:Object},mounted:function(){}},De={components:{RbRadio:Q,RbInput:Y,RbTextarea:Y,RbNumber:Y,RbCheckbox:te,RbSelect:ne,RbGrid:J,RbDate:se,RbText:de,RbImgupload:me,RbFileupload:me,RbCascader:ge,RbRate:ye,RbSwitch:ke,RbSlider:je,RbHtml:Object(o.a)($e,(function(){var e=this.$createElement;return(this._self._c||e)("div",{domProps:{innerHTML:this._s(this.options.options.defaultValue)}})}),[],!1,null,"5b72af37",null).exports},data:function(){return{}},props:{item:Object},mounted:function(){},methods:{}},Ce=Object(o.a)(De,(function(){var e=this.$createElement,t=this._self._c||e;return t("el-form-item",{key:this.item.key,class:this.item.options.customClass,attrs:{label:this.item.name,required:this.item.options.required}},[t("Rb-"+this.item.type,{tag:"component",attrs:{options:this.item}})],1)}),[],!1,null,"d9396c58",null).exports,Pe=(a("3b2b"),function(e,t){var a=t.filter((function(e){return e.required}))[0];if("number"==typeof e||"boolean"==typeof e)return"";if(null==e||!e.length)return a&&a.message||"此项为必填";var i=t.length;if(i)for(var n=0;n<i;n++){var o=t[n].pattern;if(o&&!new RegExp(o).test(e))return t[n].message||"此项为必填"}return""});function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Te={components:{RbGrid:J,FormItem:Ce},data:function(){return{show404:!1,submit_type:1,mark:void 0,templates:[],temId:void 0,templatesVal:{},list:[],config:{labelWidth:100,labelPosition:"left",size:"small"}}},mounted:function(){var e=this,t=this.$route.query.mark;if(this.mark=t,!t)return this.changeLoading(!1);C.getTemplates(t).then((function(t){var a=t.data,i=a.data;e.changeLoading(!1),200==a.code&&i?(e.submit_type=i.submit_type,e.templates=i.template_list,e.renderTem()):e.show404=!0})).catch((function(){e.changeLoading(!1),e.show404=!0}))},computed:Se({},Object(g.c)("h5",["form","showLoading","error","templateAll","imgList"])),methods:Se({renderTem:function(e){var t=this;this.temId=e||this.templates[0].id;var a=this.templates.filter((function(e){return e.id===t.temId}))[0];this.config=a.content.config,this.list=a.content.list},submitForm:function(){var e=this,t=Object.entries(this.form),a={},i=this.error,n=!1;if(t.forEach((function(e){var t=Object(U.a)(e,2),o=t[0],l=t[1];"imgupload"===l.type&&(a[o]=l.value),i[o]=l.rules&&Pe(l.value,l.rules),!n&&i[o]&&(n=i[o])})),n)return this.$message.error(n);this.changeTem(Object(m.a)({},this.temId,t.map((function(e){return e[1]}))));var o=this.form;this.clearForm();for(var l=this.templates.length,s=function(t){if(e.temId===e.templates[t].id){var i=t+1>=l;if(!(i&&e.submit_type>0))return e.submit_type<1?{v:e.orderOperate(Object(m.a)({},e.temId,o),(function(a){i?a?window.location.href=a:window.history.go(-1):e.renderTem(e.templates[t+1].id)}),a)}:{v:e.renderTem(e.templates[t+1].id)};e.orderOperate(e.templateAll,null,e.imgList)}},r=0;r<l;r++){var d=s(r);if("object"===Object(N.a)(d))return d.v}},orderOperate:function(e,t,a){var i=this;return this.changeLoading(!0),C.orderOperate(this.mark,e,a).then((function(e){i.changeLoading(!1);var a=e&&e.data;if(a&&200==+a.code){var n=a.data&&a.data.callback_url;a.data&&a.data.order_sn&&i.changeSN(a.data.order_sn),"function"==typeof t?t(n):n?window.location.href=a.data.callback_url:window.go(-1)}else i.$message.error(a.message||"网络错误")})).catch((function(e){return i.changeLoading(!1)}))}},Object(g.b)("h5",["changeLoading","changeTem","changeErr","clearForm","changeSN"]))},Ve=(a("60a2"),Object(o.a)(Te,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Rb-Grid",{directives:[{name:"loading",rawName:"v-loading",value:e.showLoading,expression:"showLoading"}],attrs:{options:{type:"flex",colums:[{span:22}],options:{gutter:0,justify:"center",align:"top"},style:{height:"100vh"}}}},[e.mark&&e.list&&e.list.length>0?a("el-form",{staticClass:"reportForm",attrs:{inline:e.config.inline,"label-position":e.config.labelPosition,"label-width":e.config.labelWidth+"px","label-suffix":e.config.labelSuffix,"hide-required-asterisk":e.config.hideRequiredAsterisk,"status-icon":e.config.statusIcon,"validate-on-rule-change":!0,size:e.config.size,disabled:!!e.config.disabled}},[e._l(e.list,(function(e){return a("Form-item",{key:e.key,attrs:{item:e}})})),a("button",{staticClass:"submitButton",attrs:{href:"javascirpt: void 0"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("提交")])],2):e._e(),e.show404?[a("h1",{staticClass:"h404",attrs:{"data-word":"404"}},[e._v(" 404 "),a("span",{staticClass:"white"})]),a("a",{staticClass:"submitButton",attrs:{href:"javascript"},on:{click:function(t){return e.window.history.go(-1)}}},[e._v("返回")])]:e._e()],2)}),[],!1,null,"f7e34aea",null).exports);i.default.use(s.a);var Le=new s.a({mode:"history",routes:[{path:"/form",component:T,meta:{auth:!0},children:[{path:"/formEdit",name:"Edit",meta:{auth:!0},component:p},{path:"/formCreate",name:"createForm",meta:{auth:!0},component:L},{path:"/formgroupList",name:"fromgrouplist",meta:{auth:!0},component:R},{path:"/formlist",name:"fromlist",meta:{auth:!0},component:q},{path:"/formHome",name:"Home",meta:{auth:!0},component:d}]},{path:"/user",component:T,children:[{path:"/userCreate",name:"createUser",meta:{auth:!0},component:I},{path:"/userList",name:"userList",meta:{auth:!0},component:W}]},{path:"/login",component:F},{path:"/forms",component:Ve},{path:"*",redirect:"/Login"}]});Le.beforeEach((function(e,t,a){var i=k.state.userData&&k.state.userData.token;e.meta.auth?i?a():a("/login"):"/login"===e.path&&i?a("/"):a()}));var Ee=Le,Ie=a("5873"),Me=(a("0fae"),a("08a3")),Re=a.n(Me),ze=a("310e"),qe=a.n(ze),Ae={components:{Draggable:qe.a},props:["data"],data:function(){return{validator:{type:null,required:null,pattern:null,range:null,length:null}}},computed:{show:function(){return!!(this.data&&Object.keys(this.data).length>0)}},methods:{handleOptionsRemove:function(e){"grid"===this.data.type?this.data.columns.splice(e,1):this.data.options.options.splice(e,1)},handleAddOption:function(){this.data.options.showLabel?this.data.options.options.push({value:this.$t("fm.config.widget.newOption"),label:this.$t("fm.config.widget.newOption")}):this.data.options.options.push({value:this.$t("fm.config.widget.newOption")})},handleAddColumn:function(){this.data.columns.push({span:"",list:[]})},generateRule:function(){var e=this;this.data.rules=[],Object.keys(this.validator).forEach((function(t){e.validator[t]&&e.data.rules.push(e.validator[t])}))},handleSelectMuliple:function(e){e?this.data.options.defaultValue?this.data.options.defaultValue=[this.data.options.defaultValue]:this.data.options.defaultValue=[]:this.data.options.defaultValue.length>0?this.data.options.defaultValue=this.data.options.defaultValue[0]:this.data.options.defaultValue=""},validateRequired:function(e){var t=this;this.validator.required=e?{required:!0,message:"".concat(this.data.name).concat(this.$t("fm.config.widget.validatorRequired"))}:null,this.$nextTick((function(){t.generateRule()}))},validateDataType:function(e){if(!this.show)return!1;this.validator.type=e?{type:e,message:this.data.name+this.$t("fm.config.widget.validatorType")}:null,this.generateRule()},valiatePattern:function(e){if(!this.show)return!1;this.validator.pattern=e?{pattern:e,message:this.data.name+this.$t("fm.config.widget.validatorPattern")}:null,this.generateRule()}},watch:{"data.options.isRange":function(e){void 0!==e&&(e?this.data.options.defaultValue=null:Object.keys(this.data.options).indexOf("defaultValue")>=0&&(this.data.options.defaultValue=""))},"data.options.required":function(e){this.validateRequired(e)},"data.options.dataType":function(e){this.validateDataType(e)},"data.options.pattern":function(e){this.valiatePattern(e)},"data.name":function(e){this.data.options&&(this.validateRequired(this.data.options.required),this.validateDataType(this.data.options.dataType),this.valiatePattern(this.data.options.pattern))}}},We=Object(o.a)(Ae,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",[a("el-form",{attrs:{"label-position":"top"}},["grid"!=e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.model")}},[a("el-input",{model:{value:e.data.model,callback:function(t){e.$set(e.data,"model",t)},expression:"data.model"}})],1):e._e(),"grid"!=e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.name")}},[a("el-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1):e._e(),Object.keys(e.data.options).indexOf("width")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.width")}},[a("el-input",{model:{value:e.data.options.width,callback:function(t){e.$set(e.data.options,"width",t)},expression:"data.options.width"}})],1):e._e(),Object.keys(e.data.options).indexOf("height")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.height")}},[a("el-input",{model:{value:e.data.options.height,callback:function(t){e.$set(e.data.options,"height",t)},expression:"data.options.height"}})],1):e._e(),Object.keys(e.data.options).indexOf("size")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.size")}},[e._v(" "+e._s(e.$t("fm.config.widget.width"))+" "),a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:e.data.options.size.width,callback:function(t){e.$set(e.data.options.size,"width",e._n(t))},expression:"data.options.size.width"}}),e._v(" "+e._s(e.$t("fm.config.widget.height"))+" "),a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:e.data.options.size.height,callback:function(t){e.$set(e.data.options.size,"height",e._n(t))},expression:"data.options.size.height"}})],1):e._e(),Object.keys(e.data.options).indexOf("placeholder")>=0&&("time"!=e.data.type||"date"!=e.data.type)?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.placeholder")}},[a("el-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),Object.keys(e.data.options).indexOf("defaultValue")>=0&&("time"!=e.data.type||"date"!=e.data.type)?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},[a("el-input",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}})],1):e._e(),Object.keys(e.data.options).indexOf("inline")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.layout")}},[a("el-radio-group",{model:{value:e.data.options.inline,callback:function(t){e.$set(e.data.options,"inline",t)},expression:"data.options.inline"}},[a("el-radio-button",{attrs:{label:!1}},[e._v(e._s(e.$t("fm.config.widget.block")))]),a("el-radio-button",{attrs:{label:!0}},[e._v(e._s(e.$t("fm.config.widget.inline")))])],1)],1):e._e(),Object.keys(e.data.options).indexOf("showInput")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showInput")}},[a("el-switch",{model:{value:e.data.options.showInput,callback:function(t){e.$set(e.data.options,"showInput",t)},expression:"data.options.showInput"}})],1):e._e(),Object.keys(e.data.options).indexOf("min")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.min")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.min,callback:function(t){e.$set(e.data.options,"min",t)},expression:"data.options.min"}})],1):e._e(),Object.keys(e.data.options).indexOf("max")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.max")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.max,callback:function(t){e.$set(e.data.options,"max",t)},expression:"data.options.max"}})],1):e._e(),Object.keys(e.data.options).indexOf("step")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.step")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.step,callback:function(t){e.$set(e.data.options,"step",t)},expression:"data.options.step"}})],1):e._e(),"select"==e.data.type||"imgupload"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.multiple")}},[a("el-switch",{on:{change:e.handleSelectMuliple},model:{value:e.data.options.multiple,callback:function(t){e.$set(e.data.options,"multiple",t)},expression:"data.options.multiple"}})],1):e._e(),"select"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.filterable")}},[a("el-switch",{model:{value:e.data.options.filterable,callback:function(t){e.$set(e.data.options,"filterable",t)},expression:"data.options.filterable"}})],1):e._e(),Object.keys(e.data.options).indexOf("allowHalf")>=0?a("el-form-item",{attrs:{label:"$t('fm.config.widget.allowHalf')"}},[a("el-switch",{model:{value:e.data.options.allowHalf,callback:function(t){e.$set(e.data.options,"allowHalf",t)},expression:"data.options.allowHalf"}})],1):e._e(),Object.keys(e.data.options).indexOf("showAlpha")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showAlpha")}},[a("el-switch",{model:{value:e.data.options.showAlpha,callback:function(t){e.$set(e.data.options,"showAlpha",t)},expression:"data.options.showAlpha"}})],1):e._e(),Object.keys(e.data.options).indexOf("showLabel")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showLabel")}},[a("el-switch",{model:{value:e.data.options.showLabel,callback:function(t){e.$set(e.data.options,"showLabel",t)},expression:"data.options.showLabel"}})],1):e._e(),Object.keys(e.data.options).indexOf("options")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.option")}},[a("el-radio-group",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"mini"},model:{value:e.data.options.remote,callback:function(t){e.$set(e.data.options,"remote",t)},expression:"data.options.remote"}},[a("el-radio-button",{attrs:{label:!1}},[e._v(e._s(e.$t("fm.config.widget.staticData")))]),a("el-radio-button",{attrs:{label:!0}},[e._v(e._s(e.$t("fm.config.widget.remoteData")))])],1),e.data.options.remote?[a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.remoteFunc,callback:function(t){e.$set(e.data.options,"remoteFunc",t)},expression:"data.options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.remoteFunc")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.value,callback:function(t){e.$set(e.data.options.props,"value",t)},expression:"data.options.props.value"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.value")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.label,callback:function(t){e.$set(e.data.options.props,"label",t)},expression:"data.options.props.label"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.label")))])],2)],1)]:["radio"==e.data.type||"select"==e.data.type&&!e.data.options.multiple?[a("el-radio-group",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.options.options,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.options.options,(function(t,i){return a("li",{key:i},[a("el-radio",{staticStyle:{"margin-right":"5px"},attrs:{label:t.value}},[a("el-input",{style:{width:e.data.options.showLabel?"90px":"180px"},attrs:{size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e.data.options.showLabel?a("el-input",{staticStyle:{width:"90px"},attrs:{size:"mini"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}):e._e()],1),a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0)],1)]:e._e(),"checkbox"==e.data.type||"select"==e.data.type&&e.data.options.multiple?[a("el-checkbox-group",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.options.options,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.options.options,(function(t,i){return a("li",{key:i},[a("el-checkbox",{staticStyle:{"margin-right":"5px"},attrs:{label:t.value}},[a("el-input",{style:{width:e.data.options.showLabel?"90px":"180px"},attrs:{size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e.data.options.showLabel?a("el-input",{staticStyle:{width:"90px"},attrs:{size:"mini"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}):e._e()],1),a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0)],1)]:e._e(),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddOption}},[e._v(e._s(e.$t("fm.actions.addOption")))])],1)]],2):e._e(),"cascader"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.remoteData")}},[a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.remoteFunc,callback:function(t){e.$set(e.data.options,"remoteFunc",t)},expression:"data.options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.remoteFunc")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.value,callback:function(t){e.$set(e.data.options.props,"value",t)},expression:"data.options.props.value"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.value")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.label,callback:function(t){e.$set(e.data.options.props,"label",t)},expression:"data.options.props.label"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.label")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.children,callback:function(t){e.$set(e.data.options.props,"children",t)},expression:"data.options.props.children"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.childrenOption")))])],2)],1)]):e._e(),Object.keys(e.data.options).indexOf("defaultValue")>=0&&("textarea"==e.data.type||"input"==e.data.type||"rate"==e.data.type||"color"==e.data.type||"switch"==e.data.type)?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},["textarea"==e.data.type?a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"input"==e.data.type?a("el-input",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"rate"==e.data.type?a("el-rate",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{max:e.data.options.max,"allow-half":e.data.options.allowHalf},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"rate"==e.data.type?a("el-button",{staticStyle:{display:"inline-block","vertical-align":"middle","margin-left":"10px"},attrs:{type:"text"},on:{click:function(t){e.data.options.defaultValue=0}}},[e._v(e._s(e.$t("fm.actions.clear")))]):e._e(),"color"==e.data.type?a("el-color-picker",{attrs:{"show-alpha":e.data.options.showAlpha},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"switch"==e.data.type?a("el-switch",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e()],1):e._e(),"time"==e.data.type||"date"==e.data.type?["date"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showType")}},[a("el-select",{model:{value:e.data.options.type,callback:function(t){e.$set(e.data.options,"type",t)},expression:"data.options.type"}},[a("el-option",{attrs:{value:"year"}}),a("el-option",{attrs:{value:"month"}}),a("el-option",{attrs:{value:"date"}}),a("el-option",{attrs:{value:"dates"}}),a("el-option",{attrs:{value:"datetime"}}),a("el-option",{attrs:{value:"datetimerange"}}),a("el-option",{attrs:{value:"daterange"}})],1)],1):e._e(),"time"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isRange")}},[a("el-switch",{model:{value:e.data.options.isRange,callback:function(t){e.$set(e.data.options,"isRange",t)},expression:"data.options.isRange"}})],1):e._e(),"date"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isTimestamp")}},[a("el-switch",{model:{value:e.data.options.timestamp,callback:function(t){e.$set(e.data.options,"timestamp",t)},expression:"data.options.timestamp"}})],1):e._e(),!e.data.options.isRange&&"time"==e.data.type||"time"!=e.data.type&&"datetimerange"!=e.data.options.type&&"daterange"!=e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.placeholder")}},[a("el-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),e.data.options.isRange||"datetimerange"==e.data.options.type||"daterange"==e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.startPlaceholder")}},[a("el-input",{model:{value:e.data.options.startPlaceholder,callback:function(t){e.$set(e.data.options,"startPlaceholder",t)},expression:"data.options.startPlaceholder"}})],1):e._e(),e.data.options.isRange||"datetimerange"==e.data.options.type||"daterange"==e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.endPlaceholder")}},[a("el-input",{model:{value:e.data.options.endPlaceholder,callback:function(t){e.$set(e.data.options,"endPlaceholder",t)},expression:"data.options.endPlaceholder"}})],1):e._e(),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.format")}},[a("el-input",{model:{value:e.data.options.format,callback:function(t){e.$set(e.data.options,"format",t)},expression:"data.options.format"}})],1),"time"==e.data.type&&Object.keys(e.data.options).indexOf("isRange")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},[e.data.options.isRange?e._e():a("el-time-picker",{key:"1",staticStyle:{width:"100%"},attrs:{arrowControl:e.data.options.arrowControl,"value-format":e.data.options.format},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}),e.data.options.isRange?a("el-time-picker",{key:"2",staticStyle:{width:"100%"},attrs:{"is-range":"",arrowControl:e.data.options.arrowControl,"value-format":e.data.options.format},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e()],1):e._e()]:e._e(),"imgupload"==e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isQiniu")}},[a("el-switch",{model:{value:e.data.options.isQiniu,callback:function(t){e.$set(e.data.options,"isQiniu",t)},expression:"data.options.isQiniu"}})],1),e.data.options.isQiniu?[a("el-form-item",{attrs:{label:"Domain",required:!0}},[a("el-input",{model:{value:e.data.options.domain,callback:function(t){e.$set(e.data.options,"domain",t)},expression:"data.options.domain"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.tokenFunc"),required:!0}},[a("el-input",{model:{value:e.data.options.tokenFunc,callback:function(t){e.$set(e.data.options,"tokenFunc",t)},expression:"data.options.tokenFunc"}})],1)]:[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.imageAction"),required:!0}},[a("el-input",{model:{value:e.data.options.action,callback:function(t){e.$set(e.data.options,"action",t)},expression:"data.options.action"}})],1)]]:e._e(),"blank"==e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultType")}},[a("el-select",{model:{value:e.data.options.defaultType,callback:function(t){e.$set(e.data.options,"defaultType",t)},expression:"data.options.defaultType"}},[a("el-option",{attrs:{value:"String",label:e.$t("fm.config.widget.string")}}),a("el-option",{attrs:{value:"Object",label:e.$t("fm.config.widget.object")}}),a("el-option",{attrs:{value:"Array",label:e.$t("fm.config.widget.array")}})],1)],1)]:e._e(),"grid"==e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.gutter")}},[a("el-input",{attrs:{type:"number"},model:{value:e.data.options.gutter,callback:function(t){e.$set(e.data.options,"gutter",e._n(t))},expression:"data.options.gutter"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.columnOption")}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.columns,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.columns,(function(t,i){return a("li",{key:i},[a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:e.$t("fm.config.widget.span"),size:"mini",type:"number"},model:{value:t.span,callback:function(a){e.$set(t,"span",e._n(a))},expression:"item.span"}}),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddColumn}},[e._v(e._s(e.$t("fm.actions.addColumn")))])],1)],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.justify")}},[a("el-select",{model:{value:e.data.options.justify,callback:function(t){e.$set(e.data.options,"justify",t)},expression:"data.options.justify"}},[a("el-option",{attrs:{value:"start",label:e.$t("fm.config.widget.justifyStart")}}),a("el-option",{attrs:{value:"end",label:e.$t("fm.config.widget.justifyEnd")}}),a("el-option",{attrs:{value:"center",label:e.$t("fm.config.widget.justifyCenter")}}),a("el-option",{attrs:{value:"space-around",label:e.$t("fm.config.widget.justifySpaceAround")}}),a("el-option",{attrs:{value:"space-between",label:e.$t("fm.config.widget.justifySpaceBetween")}})],1)],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.align")}},[a("el-select",{model:{value:e.data.options.align,callback:function(t){e.$set(e.data.options,"align",t)},expression:"data.options.align"}},[a("el-option",{attrs:{value:"top",label:e.$t("fm.config.widget.alignTop")}}),a("el-option",{attrs:{value:"middle",label:e.$t("fm.config.widget.alignMiddle")}}),a("el-option",{attrs:{value:"bottom",label:e.$t("fm.config.widget.alignBottom")}})],1)],1)]:e._e(),"grid"!=e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.attribute")}},[Object.keys(e.data.options).indexOf("readonly")>=0?a("el-checkbox",{model:{value:e.data.options.readonly,callback:function(t){e.$set(e.data.options,"readonly",t)},expression:"data.options.readonly"}},[e._v(e._s(e.$t("fm.config.widget.readonly")))]):e._e(),Object.keys(e.data.options).indexOf("disabled")>=0?a("el-checkbox",{model:{value:e.data.options.disabled,callback:function(t){e.$set(e.data.options,"disabled",t)},expression:"data.options.disabled"}},[e._v(e._s(e.$t("fm.config.widget.disabled"))+" ")]):e._e(),Object.keys(e.data.options).indexOf("editable")>=0?a("el-checkbox",{model:{value:e.data.options.editable,callback:function(t){e.$set(e.data.options,"editable",t)},expression:"data.options.editable"}},[e._v(e._s(e.$t("fm.config.widget.editable")))]):e._e(),Object.keys(e.data.options).indexOf("clearable")>=0?a("el-checkbox",{model:{value:e.data.options.clearable,callback:function(t){e.$set(e.data.options,"clearable",t)},expression:"data.options.clearable"}},[e._v(e._s(e.$t("fm.config.widget.clearable"))+" ")]):e._e(),Object.keys(e.data.options).indexOf("arrowControl")>=0?a("el-checkbox",{model:{value:e.data.options.arrowControl,callback:function(t){e.$set(e.data.options,"arrowControl",t)},expression:"data.options.arrowControl"}},[e._v(e._s(e.$t("fm.config.widget.arrowControl")))]):e._e(),Object.keys(e.data.options).indexOf("isDelete")>=0?a("el-checkbox",{model:{value:e.data.options.isDelete,callback:function(t){e.$set(e.data.options,"isDelete",t)},expression:"data.options.isDelete"}},[e._v(e._s(e.$t("fm.config.widget.isDelete")))]):e._e(),Object.keys(e.data.options).indexOf("isEdit")>=0?a("el-checkbox",{model:{value:e.data.options.isEdit,callback:function(t){e.$set(e.data.options,"isEdit",t)},expression:"data.options.isEdit"}},[e._v(e._s(e.$t("fm.config.widget.isEdit")))]):e._e()],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.validate")}},[Object.keys(e.data.options).indexOf("required")>=0?a("div",[a("el-checkbox",{model:{value:e.data.options.required,callback:function(t){e.$set(e.data.options,"required",t)},expression:"data.options.required"}},[e._v(e._s(e.$t("fm.config.widget.required")))])],1):e._e(),Object.keys(e.data.options).indexOf("dataType")>=0?a("el-select",{attrs:{size:"mini"},model:{value:e.data.options.dataType,callback:function(t){e.$set(e.data.options,"dataType",t)},expression:"data.options.dataType"}},[a("el-option",{attrs:{value:"string",label:e.$t("fm.config.widget.string")}}),a("el-option",{attrs:{value:"number",label:e.$t("fm.config.widget.number")}}),a("el-option",{attrs:{value:"boolean",label:e.$t("fm.config.widget.boolean")}}),a("el-option",{attrs:{value:"integer",label:e.$t("fm.config.widget.integer")}}),a("el-option",{attrs:{value:"float",label:e.$t("fm.config.widget.float")}}),a("el-option",{attrs:{value:"url",label:e.$t("fm.config.widget.url")}}),a("el-option",{attrs:{value:"email",label:e.$t("fm.config.widget.email")}}),a("el-option",{attrs:{value:"hex",label:e.$t("fm.config.widget.hex")}})],1):e._e(),Object.keys(e.data.options).indexOf("pattern")>=0?a("div",[a("el-input",{staticStyle:{width:"240px"},attrs:{size:"mini",placeholder:e.$t("fm.config.widget.patternPlaceholder")},model:{value:e.data.options.pattern,callback:function(t){e.$set(e.data.options,"pattern",t)},expression:"data.options.pattern"}})],1):e._e()],1)]:e._e()],2)],1):e._e()}),[],!1,null,null,null).exports,Ne={props:["data","editData","rules"],methods:{submit:function(){this.$refs.ruleForm.validate((function(e,t,a){return!1}))}}},Ue=(a("c52a"),Object(o.a)(Ne,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-config-container"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.editData,rules:e.rules,"label-width":"auto",inline:!0,size:"medium"}},[a("el-form-item",{attrs:{label:"表单名称：",prop:"name"}},[a("el-input",{model:{value:e.editData.name,callback:function(t){e.$set(e.editData,"name",t)},expression:"editData.name"}})],1)],1),a("el-form",{attrs:{"label-position":"top"}},[a("el-form-item",{attrs:{label:e.$t("fm.config.form.labelPosition.title")}},[a("el-radio-group",{model:{value:e.data.labelPosition,callback:function(t){e.$set(e.data,"labelPosition",t)},expression:"data.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.left")))]),a("el-radio-button",{attrs:{label:"right"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.right")))]),a("el-radio-button",{attrs:{label:"top"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.top")))])],1)],1),a("el-form-item",{attrs:{label:e.$t("fm.config.form.labelWidth")}},[a("el-input-number",{attrs:{min:0,max:200,step:10},model:{value:e.data.labelWidth,callback:function(t){e.$set(e.data,"labelWidth",t)},expression:"data.labelWidth"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.form.size")}},[a("el-radio-group",{model:{value:e.data.size,callback:function(t){e.$set(e.data,"size",t)},expression:"data.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v("medium")]),a("el-radio-button",{attrs:{label:"small"}},[e._v("small")]),a("el-radio-button",{attrs:{label:"mini"}},[e._v("mini")])],1)],1)],1)],1)}),[],!1,null,null,null).exports);function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ge={props:["element","select","index","data"],components:{FmUpload:a("c7f0").a},data:function(){return{selectWidget:this.select}},mounted:function(){},methods:{handleSelectWidget:function(e){this.selectWidget=this.data.list[e]},handleWidgetDelete:function(e){var t=this;this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick((function(){t.data.list.splice(e,1)}))},handleWidgetClone:function(e){var t=this,a=Je({},this.data.list[e],{options:Je({},this.data.list[e].options),key:Date.parse(new Date)+"_"+Math.ceil(99999*Math.random())});"radio"!==this.data.list[e].type&&"checkbox"!==this.data.list[e].type&&"select"!==this.data.list[e].type||(a=Je({},a,{options:Je({},a.options,{options:a.options.options.map((function(e){return Je({},e)}))})})),this.data.list.splice(e,0,a),this.$nextTick((function(){t.selectWidget=t.data.list[e+1]}))}},watch:{select:function(e){this.selectWidget=e},selectWidget:{handler:function(e){this.$emit("update:select",e)},deep:!0}}},He=Object(o.a)(Ge,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-form-item",{staticClass:"widget-view ",class:{active:e.selectWidget.key==e.element.key,is_req:e.element.options.required},attrs:{label:e.element.name},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},["input"==e.element.type?[a("el-input",{style:{width:e.element.options.width},attrs:{placeholder:e.element.options.placeholder,disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"textarea"==e.element.type?[a("el-input",{style:{width:e.element.options.width},attrs:{type:"textarea",rows:5,disabled:e.element.options.disabled,placeholder:e.element.options.placeholder},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"number"==e.element.type?[a("el-input-number",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,"controls-position":e.element.options.controlsPosition},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"radio"==e.element.type?[a("el-radio-group",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t,i){return a("el-radio",{key:t.value+i,style:{display:e.element.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e._v(" "+e._s(e.element.options.showLabel?t.label:t.value)+" ")])})),1)]:e._e(),"checkbox"==e.element.type?[a("el-checkbox-group",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t,i){return a("el-checkbox",{key:t.value+i,style:{display:e.element.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e._v(" "+e._s(e.element.options.showLabel?t.label:t.value)+" ")])})),1)]:e._e(),"time"==e.element.type?[a("el-time-picker",{style:{width:e.element.options.width},attrs:{"is-range":e.element.options.isRange,placeholder:e.element.options.placeholder,"start-placeholder":e.element.options.startPlaceholder,"end-placeholder":e.element.options.endPlaceholder,readonly:e.element.options.readonly,disabled:e.element.options.disabled,editable:e.element.options.editable,clearable:e.element.options.clearable,arrowControl:e.element.options.arrowControl},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"date"==e.element.type?[a("el-date-picker",{style:{width:e.element.options.width},attrs:{type:e.element.options.type,"is-range":e.element.options.isRange,placeholder:e.element.options.placeholder,"start-placeholder":e.element.options.startPlaceholder,"end-placeholder":e.element.options.endPlaceholder,readonly:e.element.options.readonly,disabled:e.element.options.disabled,editable:e.element.options.editable,clearable:e.element.options.clearable},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"rate"==e.element.type?[a("el-rate",{attrs:{max:e.element.options.max,disabled:e.element.options.disabled,"allow-half":e.element.options.allowHalf},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"color"==e.element.type?[a("el-color-picker",{attrs:{disabled:e.element.options.disabled,"show-alpha":e.element.options.showAlpha},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"select"==e.element.type?[a("el-select",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,multiple:e.element.options.multiple,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:e.element.options.showLabel?t.label:t.value}})})),1)]:e._e(),"switch"==e.element.type?[a("el-switch",{attrs:{disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"slider"==e.element.type?[a("el-slider",{style:{width:e.element.options.width},attrs:{min:e.element.options.min,max:e.element.options.max,disabled:e.element.options.disabled,step:e.element.options.step,"show-input":e.element.options.showInput,range:e.element.options.range},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"imgupload"==e.element.type?[a("fm-upload",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,width:e.element.options.size.width,height:e.element.options.size.height,token:"xxx",domain:"xxx"},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"cascader"==e.element.type?[a("el-cascader",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder,options:e.element.options.remoteOptions},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"editor"==e.element.type?[a("vue-editor",{style:{width:e.element.options.width},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"blank"==e.element.type?[a("div",{staticStyle:{height:"50px",color:"#999",background:"#eee","line-height":"50px","text-align":"center"}},[e._v(e._s(e.$t("fm.components.fields.blank")))])]:e._e(),"text"==e.element.type?[a("span",[e._v(e._s(e.element.options.defaultValue))])]:e._e(),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"iconfont icon-icon_clone",on:{click:function(t){return t.stopPropagation(),e.handleWidgetClone(e.index)}}}),a("i",{staticClass:"iconfont icon-trash",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e(),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-drag"},[a("i",{staticClass:"iconfont icon-drag drag-widget"})]):e._e()],2):e._e()}),[],!1,null,null,null).exports;function Qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xe={components:{Draggable:qe.a,WidgetFormItem:He},props:["data","select"],data:function(){return{selectWidget:this.select}},mounted:function(){document.body.ondrop=function(e){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(e.preventDefault(),e.stopPropagation())}},methods:{handleMoveEnd:function(e){e.newIndex,e.oldIndex},handleSelectWidget:function(e){this.selectWidget=this.data.list[e]},handleWidgetAdd:function(e){var t=e.newIndex,a=(e.to,Date.parse(new Date)+"_"+Math.ceil(99999*Math.random()));this.$set(this.data.list,t,Ke({},this.data.list[t],{options:Ke({},this.data.list[t].options,{remoteFunc:"func_"+a}),key:a,model:this.data.list[t].type+"_"+a,rules:[]})),"radio"!==this.data.list[t].type&&"checkbox"!==this.data.list[t].type&&"select"!==this.data.list[t].type||this.$set(this.data.list,t,Ke({},this.data.list[t],{options:Ke({},this.data.list[t].options,{options:this.data.list[t].options.options.map((function(e){return Ke({},e)}))})})),"grid"===this.data.list[t].type&&this.$set(this.data.list,t,Ke({},this.data.list[t],{columns:this.data.list[t].columns.map((function(e){return Ke({},e)}))})),this.selectWidget=this.data.list[t]},handleWidgetColAdd:function(e,t,a){var i=e.newIndex,n=e.oldIndex,o=e.item;if(o.className.indexOf("data-grid")>=0)return"DIV"===o.tagName&&this.data.list.splice(n,0,t.columns[a].list[i]),t.columns[a].list.splice(i,1),!1;var l=Date.parse(new Date)+"_"+Math.ceil(99999*Math.random());this.$set(t.columns[a].list,i,Ke({},t.columns[a].list[i],{options:Ke({},t.columns[a].list[i].options,{remoteFunc:"func_"+l}),key:l,model:t.columns[a].list[i].type+"_"+l,rules:[]})),"radio"!==t.columns[a].list[i].type&&"checkbox"!==t.columns[a].list[i].type&&"select"!==t.columns[a].list[i].type||this.$set(t.columns[a].list,i,Ke({},t.columns[a].list[i],{options:Ke({},t.columns[a].list[i].options,{options:t.columns[a].list[i].options.options.map((function(e){return Ke({},e)}))})})),this.selectWidget=t.columns[a].list[i]},handleWidgetDelete:function(e){var t=this;this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick((function(){t.data.list.splice(e,1)}))}},watch:{select:function(e){this.selectWidget=e},selectWidget:{handler:function(e){this.$emit("update:select",e)},deep:!0}}},Ye=Object(o.a)(Xe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-form-container"},[0==e.data.list.length?a("div",{staticClass:"form-empty"},[e._v(e._s(e.$t("fm.description.containerEmpty")))]):e._e(),a("el-form",{attrs:{size:e.data.config.size,"label-suffix":":","label-position":e.data.config.labelPosition,"label-width":e.data.config.labelWidth+"px"}},[a("draggable",e._b({on:{end:e.handleMoveEnd,add:e.handleWidgetAdd},model:{value:e.data.list,callback:function(t){e.$set(e.data,"list",t)},expression:"data.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-form-list",attrs:{name:"fade",tag:"div"}},[e._l(e.data.list,(function(t,i){return["grid"==t.type?[t&&t.key?a("el-row",{key:t.key,staticClass:"widget-col widget-view",class:{active:e.selectWidget.key==t.key},attrs:{type:"flex",gutter:t.options.gutter?t.options.gutter:0,justify:t.options.justify,align:t.options.align},nativeOn:{click:function(t){return e.handleSelectWidget(i)}}},[e._l(t.columns,(function(i,n){return a("el-col",{key:n,attrs:{span:i.span?i.span:0}},[a("draggable",e._b({attrs:{"no-transition-on-drag":!0},on:{end:e.handleMoveEnd,add:function(a){return e.handleWidgetColAdd(a,t,n)}},model:{value:i.list,callback:function(t){e.$set(i,"list",t)},expression:"col.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-col-list",attrs:{name:"fade",tag:"div"}},e._l(i.list,(function(t,n){return t.key?a("widget-form-item",{key:t.key,attrs:{element:t,select:e.selectWidget,index:n,data:i},on:{"update:select":function(t){e.selectWidget=t}}}):e._e()})),1)],1)],1)})),e.selectWidget.key==t.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"iconfont icon-trash",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(i)}}})]):e._e(),e.selectWidget.key==t.key?a("div",{staticClass:"widget-view-drag widget-col-drag"},[a("i",{staticClass:"iconfont icon-drag drag-widget"})]):e._e()],2):e._e()]:[t&&t.key?a("widget-form-item",{key:t.key,attrs:{element:t,select:e.selectWidget,index:i,data:e.data},on:{"update:select":function(t){e.selectWidget=t}}}):e._e()]]}))],2)],1)],1)],1)}),[],!1,null,null,null).exports,Ze={props:{visible:Boolean,loadingText:{type:String,default:""},title:{type:String,default:""},width:{type:String,default:"600px"},form:{type:Boolean,default:!0},action:{type:Boolean,default:!0}},computed:{show:function(){return!this.form||this.showForm}},data:function(){return{loading:!1,dialogVisible:this.visible,id:"dialog_"+(new Date).getTime(),showForm:!1}},methods:{close:function(){this.dialogVisible=!1},submit:function(){this.loading=!0,this.$emit("on-submit")},end:function(){this.loading=!1}},mounted:function(){},watch:{dialogVisible:function(e){var t=this;e?this.showForm=!0:(this.loading=!1,this.$emit("on-close"),setTimeout((function(){t.showForm=!1}),300))},visible:function(e){this.dialogVisible=e}}},et=(a("d7cd"),Object(o.a)(Ze,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{ref:"elDialog",staticClass:"cus-dialog-container",attrs:{title:e.title,visible:e.dialogVisible,"close-on-click-modal":!1,"append-to-body":"",center:"",width:e.width,id:e.id},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.show?a("span",[e._t("default")],2):e._e(),e.action?a("span",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-footer",attrs:{slot:"footer","element-loading-text":e.loadingText},slot:"footer"},[e._t("action",[a("el-button",{on:{click:e.close}},[e._v(e._s(e.$t("fm.actions.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t("fm.actions.confirm")))])])],2):e._e()])}),[],!1,null,null,null).exports),tt=a("4d7f").a,at=(a("32f9"),Object(o.a)(tt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"generateForm",attrs:{"label-suffix":":",size:e.data.config.size,model:e.models,rules:e.rules,"label-position":e.data.config.labelPosition,"label-width":e.data.config.labelWidth+"px"}},[e._l(e.data.list,(function(t){return["grid"==t.type?[a("el-row",{key:t.key,attrs:{type:"flex",gutter:t.options.gutter?t.options.gutter:0,justify:t.options.justify,align:t.options.align}},e._l(t.columns,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[e._l(t.list,(function(t){return["blank"==t.type?a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2):a("genetate-form-item",{key:t.key,attrs:{models:e.models,remote:e.remote,rules:e.rules,widget:t},on:{"update:models":function(t){e.models=t},"input-change":e.onInputChange}})]}))],2)})),1)]:"blank"==t.type?[a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2)]:[a("genetate-form-item",{key:t.key,attrs:{models:e.models,rules:e.rules,widget:t,remote:e.remote},on:{"update:models":function(t){e.models=t},"input-change":e.onInputChange}})]]}))],2)],1)}),[],!1,null,null,null).exports),it=a("b311"),nt=a.n(it),ot=[{type:"input",icon:"icon-input",options:{width:"100%",defaultValue:"",required:!1,dataType:"string",pattern:"",placeholder:"",disabled:!1}},{type:"textarea",icon:"icon-diy-com-textarea",options:{width:"100%",defaultValue:"",required:!1,disabled:!1,pattern:"",placeholder:""}},{type:"number",icon:"icon-number",options:{width:"",required:!1,defaultValue:0,min:"",max:"",step:1,disabled:!1,controlsPosition:""}},{type:"radio",icon:"icon-radio-active",options:{inline:!1,defaultValue:"",showLabel:!1,options:[{value:"Option 1",label:"Option 1"},{value:"Option 2",label:"Option 2"},{value:"Option 3",label:"Option 3"}],required:!1,width:"",remote:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:"",disabled:!1}},{type:"checkbox",icon:"icon-check-box",options:{inline:!1,defaultValue:[],showLabel:!1,options:[{value:"Option 1"},{value:"Option 2"},{value:"Option 3"}],required:!1,width:"",remote:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:"",disabled:!1}},{type:"time",icon:"icon-time",options:{defaultValue:"21:19:56",readonly:!1,disabled:!1,editable:!0,clearable:!0,placeholder:"",startPlaceholder:"",endPlaceholder:"",isRange:!1,arrowControl:!0,format:"HH:mm:ss",required:!1,width:""}},{type:"date",icon:"icon-date",options:{defaultValue:"",readonly:!1,disabled:!1,editable:!0,clearable:!0,placeholder:"",startPlaceholder:"",endPlaceholder:"",type:"date",format:"yyyy-MM-dd",timestamp:!1,required:!1,width:""}},{type:"rate",icon:"icon-pingfen1",options:{defaultValue:null,max:5,disabled:!1,allowHalf:!1,required:!1}},{type:"color",icon:"icon-color",options:{defaultValue:"",disabled:!1,showAlpha:!1,required:!1}},{type:"select",icon:"icon-select",options:{defaultValue:"",multiple:!1,disabled:!1,clearable:!1,placeholder:"",required:!1,showLabel:!1,width:"",options:[{value:"Option 1"},{value:"Option 2"},{value:"Option 3"}],remote:!1,filterable:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:""}},{type:"switch",icon:"icon-switch",options:{defaultValue:!1,required:!1,disabled:!1}},{type:"slider",icon:"icon-slider",options:{defaultValue:0,disabled:!1,required:!1,min:0,max:100,step:1,showInput:!1,range:!1,width:""}},{type:"text",icon:"icon-wenzishezhi-",options:{width:"100%",defaultValue:"This is a text"}}],lt=[{type:"blank",icon:"icon-zidingyishuju",options:{defaultType:"String"}},{type:"imgupload",icon:"icon-tupian",options:{defaultValue:[],size:{width:100,height:100},width:"",tokenFunc:"funcGetToken",token:"",domain:"http://pfp81ptt6.bkt.clouddn.com/",disabled:!1,length:8,multiple:!1,isQiniu:!1,isDelete:!1,min:0,isEdit:!1,action:"https://jsonplaceholder.typicode.com/photos/"}},{type:"editor",icon:"icon-fuwenbenkuang",options:{defaultValue:"",width:""}},{type:"cascader",icon:"icon-jilianxuanze",options:{defaultValue:[],width:"",placeholder:"",disabled:!1,clearable:!1,remote:!0,remoteOptions:[],props:{value:"value",label:"label",children:"children"},remoteFunc:""}}],st=[{type:"grid",icon:"icon-grid-",columns:[{span:12,list:[]},{span:12,list:[]}],options:{gutter:0,justify:"start",align:"top"}}],rt=h.a.create({withCredentials:!1});rt.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(new Error(e).message)})),rt.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(new Error(e).message)}));var dt=rt,ct=function(e){var t=[],a=[],i=[];!function e(t,a,i,n){for(var o=0;o<t.length;o++)"grid"==t[o].type?t[o].columns.forEach((function(t){e(t.list,a,i,n)})):"blank"==t[o].type?t[o].model&&n.push({name:t[o].model,label:t[o].name}):"imgupload"==t[o].type?t[o].options.tokenFunc&&i.push({func:t[o].options.tokenFunc,label:t[o].name,model:t[o].model}):t[o].options.remote&&t[o].options.remoteFunc&&a.push({func:t[o].options.remoteFunc,label:t[o].name,model:t[o].model})}(JSON.parse(e).list,t,a,i);for(var n="",o="",l=0;l<t.length;l++)n+="\n            ".concat(t[l].func," (resolve) {\n              // ").concat(t[l].label," ").concat(t[l].model,"\n              // Call callback function once get the data from remote server\n              // resolve(data)\n            },\n    ");for(var s=0;s<a.length;s++)n+="\n            ".concat(a[s].func," (resolve) {\n              // ").concat(a[s].label," ").concat(a[s].model,"\n              // Call callback function once get the token\n              // resolve(token)\n            },\n    ");for(var r=0;r<i.length;r++)o+='\n        <template slot="'.concat(i[r].name,'" slot-scope="scope">\n          \x3c!-- ').concat(i[r].label,' --\x3e\n          \x3c!-- use v-model="scope.model.').concat(i[r].name,'" to bind data --\x3e\n        </template>\n    ');return'<!DOCTYPE html>\n  <html>\n  <head>\n    <meta charset="UTF-8">\n    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">\n    <link rel="stylesheet" href="https://unpkg.com/form-making/dist/FormMaking.css">\n  </head>\n  <body>\n    <div id="app">\n      <fm-generate-form :data="jsonData" :remote="remoteFuncs" :value="editData" ref="generateForm">\n        '.concat(o,'\n      </fm-generate-form>\n      <el-button type="primary" @click="handleSubmit">提交</el-button>\n    </div>\n    <script src="https://unpkg.com/vue/dist/vue.js"><\/script>\n    <script src="https://unpkg.com/element-ui/lib/index.js"><\/script>\n    <script src="https://unpkg.com/form-making/dist/FormMaking.umd.js"><\/script>\n    <script>\n      new Vue({\n        el: \'#app\',\n        data: {\n          jsonData: ').concat(e,",\n          editData: {},\n          remoteFuncs: {\n            ").concat(n,"\n          }\n        },\n        methods: {\n          handleSubmit () {\n            this.$refs.generateForm.getData().then(data => {\n              // data check success\n              // data - form data\n            }).catch(e => {\n              // data check failed\n            })\n          }\n        }\n      })\n    <\/script>\n  </body>\n  </html>")};function pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function ut(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var mt={name:"fm-making-form",components:{Draggable:qe.a,WidgetConfig:We,FormConfig:Ue,WidgetForm:Ye,CusDialog:et,GenerateForm:at},props:{preview:{type:Boolean,default:!1},generateCode:{type:Boolean,default:!1},generateJson:{type:Boolean,default:!1},upload:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},basicFields:{type:Array,default:function(){return["input","textarea","number","radio","checkbox","date","rate","select","switch","slider","text"]}},advanceFields:{type:Array,default:function(){return["imgupload","cascader"]}},layoutFields:{type:Array,default:function(){return["grid"]}}},data:function(){return{basicComponents:ot,layoutComponents:st,advanceComponents:lt,resetJson:!1,widgetForm:{list:[],config:{labelWidth:100,labelPosition:"right",size:"small"}},configTab:"form",widgetFormSelect:null,previewVisible:!1,jsonVisible:!1,codeVisible:!1,uploadVisible:!1,remoteFuncs:{func_test:function(e){setTimeout((function(){e([{id:"1",name:"1111"},{id:"2",name:"2222"},{id:"3",name:"3333"}])}),2e3)},funcGetToken:function(e){dt.get("http://tools-server.xiaoyaoji.cn/api/uptoken").then((function(t){e(t.uptoken)}))},upload_callback:function(e,t,a){}},widgetModels:{},blank:"",htmlTemplate:"",jsonTemplate:"",uploadEditor:null,jsonCopyValue:"",jsonClipboard:null,jsonEg:'{\n  "list": [],\n  "config": {\n    "labelWidth": 100,\n    "labelPosition": "top",\n    "size": "small"\n  }\n}',editData:{name:""},rules:{name:[{required:!0,message:"请输入表单名称",trigger:"blur"}]}}},mounted:function(){this._loadComponents()},methods:{_loadComponents:function(){var e=this;this.basicComponents=this.basicComponents.map((function(t){return ut({},t,{name:e.$t("fm.components.fields.".concat(t.type))})})),this.advanceComponents=this.advanceComponents.map((function(t){return ut({},t,{name:e.$t("fm.components.fields.".concat(t.type))})})),this.layoutComponents=this.layoutComponents.map((function(t){return ut({},t,{name:e.$t("fm.components.fields.".concat(t.type))})}))},handleGoGithub:function(){window.location.href="https://github.com/GavinZhuLei/vue-form-making"},handleConfigSelect:function(e){this.configTab=e},handleMoveEnd:function(e){},handleMoveStart:function(e){e.oldIndex},handleMove:function(){return!0},handlePreview:function(){this.previewVisible=!0},handleTest:function(){var e=this;this.$refs.generateForm.getData().then((function(t){e.$alert(t,"").catch((function(e){})),e.$refs.widgetPreview.end()})).catch((function(t){e.$refs.widgetPreview.end()}))},handleReset:function(){this.$refs.generateForm.reset()},handleGenerateJson:function(){var e=this;this.jsonVisible=!0,this.jsonTemplate=this.widgetForm,this.$nextTick((function(){ace.edit("jsoneditor").session.setMode("ace/mode/json"),e.jsonClipboard||(e.jsonClipboard=new nt.a(".json-btn"),e.jsonClipboard.on("success",(function(t){e.$message.success(e.$t("fm.message.copySuccess"))}))),e.jsonCopyValue=JSON.stringify(e.widgetForm)}))},handleGenerateCode:function(){this.codeVisible=!0,this.htmlTemplate=ct(JSON.stringify(this.widgetForm)),this.$nextTick((function(){ace.edit("codeeditor").session.setMode("ace/mode/html")}))},handleUpload:function(){var e=this;this.uploadVisible=!0,this.$nextTick((function(){e.uploadEditor=ace.edit("uploadeditor"),e.uploadEditor.session.setMode("ace/mode/json")}))},handleUploadJson:function(){try{this.setJSON(JSON.parse(this.uploadEditor.getValue())),this.uploadVisible=!1}catch(e){this.$message.error(e.message),this.$refs.uploadJson.end()}},handleClear:function(){this.widgetForm={list:[],config:{labelWidth:100,labelPosition:"right",size:"small",customClass:""}},this.widgetFormSelect={}},getJSON:function(){return this.widgetForm},getHtml:function(){return ct(JSON.stringify(this.widgetForm))},setJSON:function(e){this.widgetForm=e,e.list.length>0&&(this.widgetFormSelect=e.list[0])},handleInput:function(e){this.blank=e},handleDataChange:function(e,t,a){},addTemplate:function(){var e=this;if(""===this.editData.name)return this.$message({showClose:!0,message:"表单属性中表单名称不能为空",type:"warning"}),void this.$nextTick((function(){e.$refs.formConfig.submit()}));this.open()},open:function(){var e=this,t=JSON.stringify(this.widgetForm);this.$alert("确定表单提交吗？","表单提交",{showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",callback:function(a){if("confirm"===a){var i=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n=e.editData.name;C.addTemplate(n,t).then((function(t){200==+t.data.code?(e.$message({showClose:!0,message:"添加成功",type:"success"}),e.$router.push("/formlist")):e.$message({showClose:!0,message:"添加失败",type:"warning"}),i.close()}))}}})}},watch:{widgetForm:{deep:!0,handler:function(e){}},$lang:function(e){this._loadComponents()}}},ft=Object(o.a)(mt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"fm2-container"},[a("el-main",{staticClass:"fm2-main"},[a("el-container",[a("el-aside",{attrs:{width:"250px"}},[a("div",{staticClass:"components-list"},[e.basicFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.basic.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.basicComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.basicComponents,(function(t,i){return e.basicFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"divider"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e(),e.advanceFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.advance.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.advanceComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.advanceComponents,(function(t,i){return e.advanceFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"table"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e()],2)]),a("el-container",{staticClass:"center-container",attrs:{direction:"vertical"}},[a("el-header",{staticClass:"btn-bar",staticStyle:{height:"45px"}},[e._t("action"),e.generateCode?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-document"},on:{click:e.addTemplate}},[e._v("新建表单")]):e._e(),e.upload?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-upload2"},on:{click:e.handleUpload}},[e._v(e._s(e.$t("fm.actions.import")))]):e._e(),e.clearable?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-delete"},on:{click:e.handleClear}},[e._v(e._s(e.$t("fm.actions.clear")))]):e._e(),e.preview?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-view"},on:{click:e.handlePreview}},[e._v(e._s(e.$t("fm.actions.preview")))]):e._e(),e.generateJson?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-tickets"},on:{click:e.handleGenerateJson}},[e._v(e._s(e.$t("fm.actions.json")))]):e._e(),e.generateCode?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-document"},on:{click:e.handleGenerateCode}},[e._v(e._s(e.$t("fm.actions.code")))]):e._e()],2),a("el-main",{class:{"widget-empty":0==e.widgetForm.list.length}},[e.resetJson?e._e():a("widget-form",{ref:"widgetForm",attrs:{data:e.widgetForm,select:e.widgetFormSelect},on:{"update:select":function(t){e.widgetFormSelect=t}}})],1)],1),a("el-aside",{staticClass:"widget-config-container"},[a("el-container",[a("el-header",{attrs:{height:"45px"}},[a("div",{staticClass:"config-tab",class:{active:"widget"==e.configTab},on:{click:function(t){return e.handleConfigSelect("widget")}}},[e._v(e._s(e.$t("fm.config.widget.title")))]),a("div",{staticClass:"config-tab",class:{active:"form"==e.configTab},on:{click:function(t){return e.handleConfigSelect("form")}}},[e._v(e._s(e.$t("fm.config.form.title")))])]),a("el-main",{staticClass:"config-content"},[a("widget-config",{directives:[{name:"show",rawName:"v-show",value:"widget"==e.configTab,expression:"configTab=='widget'"}],attrs:{data:e.widgetFormSelect}}),a("form-config",{directives:[{name:"show",rawName:"v-show",value:"form"==e.configTab,expression:"configTab=='form'"}],ref:"formConfig",attrs:{data:e.widgetForm.config,editData:e.editData,rules:e.rules}})],1)],1)],1),a("cus-dialog",{ref:"widgetPreview",attrs:{visible:e.previewVisible,width:"1000px",form:""},on:{"on-close":function(t){e.previewVisible=!1}}},[e.previewVisible?a("generate-form",{ref:"generateForm",attrs:{insite:"true",data:e.widgetForm,value:e.widgetModels,remote:e.remoteFuncs},on:{"on-change":e.handleDataChange},scopedSlots:e._u([{key:"blank",fn:function(t){return[e._v(" Width "),a("el-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.width,callback:function(a){e.$set(t.model.blank,"width",a)},expression:"scope.model.blank.width"}}),e._v("Height "),a("el-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.height,callback:function(a){e.$set(t.model.blank,"height",a)},expression:"scope.model.blank.height"}})]}}],null,!1,3417951797)}):e._e(),a("template",{slot:"action"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleTest}},[e._v(e._s(e.$t("fm.actions.getData")))]),a("el-button",{on:{click:e.handleReset}},[e._v(e._s(e.$t("fm.actions.reset")))])],1)],2),a("cus-dialog",{ref:"uploadJson",attrs:{visible:e.uploadVisible,width:"800px",form:""},on:{"on-close":function(t){e.uploadVisible=!1},"on-submit":e.handleUploadJson}},[a("el-alert",{attrs:{type:"info",title:e.$t("fm.description.uploadJsonInfo")}}),a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"uploadeditor"}},[e._v(e._s(e.jsonEg))])],1),a("cus-dialog",{ref:"jsonPreview",attrs:{visible:e.jsonVisible,width:"800px",form:""},on:{"on-close":function(t){e.jsonVisible=!1}}},[a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"jsoneditor"}},[e._v(e._s(e.jsonTemplate))]),a("template",{slot:"action"},[a("el-button",{staticClass:"json-btn",attrs:{type:"primary","data-clipboard-text":e.jsonCopyValue}},[e._v(e._s(e.$t("fm.actions.copyData")))])],1)],2),a("cus-dialog",{ref:"codePreview",attrs:{visible:e.codeVisible,width:"800px",form:"",action:!1},on:{"on-close":function(t){e.codeVisible=!1}}},[a("div",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"codeeditor"}},[e._v(e._s(e.htmlTemplate))])])],1)],1)],1)}),[],!1,null,null,null).exports,ht={components:{Draggable:qe.a},props:["data"],data:function(){return{validator:{type:null,required:null,pattern:null,range:null,length:null}}},computed:{show:function(){return!!(this.data&&Object.keys(this.data).length>0)}},methods:{handleOptionsRemove:function(e){"grid"===this.data.type?this.data.columns.splice(e,1):this.data.options.options.splice(e,1)},handleAddOption:function(){this.data.options.showLabel?this.data.options.options.push({value:this.$t("fm.config.widget.newOption"),label:this.$t("fm.config.widget.newOption")}):this.data.options.options.push({value:this.$t("fm.config.widget.newOption")})},handleAddColumn:function(){this.data.columns.push({span:"",list:[]})},generateRule:function(){var e=this;this.data.rules=[],Object.keys(this.validator).forEach((function(t){e.validator[t]&&e.data.rules.push(e.validator[t])}))},handleSelectMuliple:function(e){e?this.data.options.defaultValue?this.data.options.defaultValue=[this.data.options.defaultValue]:this.data.options.defaultValue=[]:this.data.options.defaultValue.length>0?this.data.options.defaultValue=this.data.options.defaultValue[0]:this.data.options.defaultValue=""},validateRequired:function(e){var t=this;this.validator.required=e?{required:!0,message:"".concat(this.data.name).concat(this.$t("fm.config.widget.validatorRequired"))}:null,this.$nextTick((function(){t.generateRule()}))},validateDataType:function(e){if(!this.show)return!1;this.validator.type=e?{type:e,message:this.data.name+this.$t("fm.config.widget.validatorType")}:null,this.generateRule()},valiatePattern:function(e){if(!this.show)return!1;this.validator.pattern=e?{pattern:e,message:this.data.name+this.$t("fm.config.widget.validatorPattern")}:null,this.generateRule()}},watch:{"data.options.isRange":function(e){void 0!==e&&(e?this.data.options.defaultValue=null:Object.keys(this.data.options).indexOf("defaultValue")>=0&&(this.data.options.defaultValue=""))},"data.options.required":function(e){this.validateRequired(e)},"data.options.dataType":function(e){this.validateDataType(e)},"data.options.pattern":function(e){this.valiatePattern(e)},"data.name":function(e){this.data.options&&(this.validateRequired(this.data.options.required),this.validateDataType(this.data.options.dataType),this.valiatePattern(this.data.options.pattern))}}},gt=Object(o.a)(ht,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",[a("el-form",{attrs:{"label-position":"top"}},["grid"!=e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.model")}},[a("el-input",{attrs:{disabled:!0},model:{value:e.data.model,callback:function(t){e.$set(e.data,"model",t)},expression:"data.model"}})],1):e._e(),"grid"!=e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.name")}},[a("el-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1):e._e(),Object.keys(e.data.options).indexOf("width")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.width")}},[a("el-input",{model:{value:e.data.options.width,callback:function(t){e.$set(e.data.options,"width",t)},expression:"data.options.width"}})],1):e._e(),Object.keys(e.data.options).indexOf("height")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.height")}},[a("el-input",{model:{value:e.data.options.height,callback:function(t){e.$set(e.data.options,"height",t)},expression:"data.options.height"}})],1):e._e(),Object.keys(e.data.options).indexOf("size")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.size")}},[e._v(" "+e._s(e.$t("fm.config.widget.width"))+" "),a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:e.data.options.size.width,callback:function(t){e.$set(e.data.options.size,"width",e._n(t))},expression:"data.options.size.width"}}),e._v(" "+e._s(e.$t("fm.config.widget.height"))+" "),a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:e.data.options.size.height,callback:function(t){e.$set(e.data.options.size,"height",e._n(t))},expression:"data.options.size.height"}})],1):e._e(),Object.keys(e.data.options).indexOf("placeholder")>=0&&("time"!=e.data.type||"date"!=e.data.type)?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.placeholder")}},[a("el-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),Object.keys(e.data.options).indexOf("defaultValue")>=0&&("time"!=e.data.type||"date"!=e.data.type)?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},[a("el-input",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}})],1):e._e(),Object.keys(e.data.options).indexOf("inline")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.layout")}},[a("el-radio-group",{model:{value:e.data.options.inline,callback:function(t){e.$set(e.data.options,"inline",t)},expression:"data.options.inline"}},[a("el-radio-button",{attrs:{label:!1}},[e._v(e._s(e.$t("fm.config.widget.block")))]),a("el-radio-button",{attrs:{label:!0}},[e._v(e._s(e.$t("fm.config.widget.inline")))])],1)],1):e._e(),Object.keys(e.data.options).indexOf("showInput")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showInput")}},[a("el-switch",{model:{value:e.data.options.showInput,callback:function(t){e.$set(e.data.options,"showInput",t)},expression:"data.options.showInput"}})],1):e._e(),Object.keys(e.data.options).indexOf("min")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.min")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.min,callback:function(t){e.$set(e.data.options,"min",t)},expression:"data.options.min"}})],1):e._e(),Object.keys(e.data.options).indexOf("max")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.max")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.max,callback:function(t){e.$set(e.data.options,"max",t)},expression:"data.options.max"}})],1):e._e(),Object.keys(e.data.options).indexOf("step")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.step")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.step,callback:function(t){e.$set(e.data.options,"step",t)},expression:"data.options.step"}})],1):e._e(),"select"==e.data.type||"imgupload"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.multiple")}},[a("el-switch",{on:{change:e.handleSelectMuliple},model:{value:e.data.options.multiple,callback:function(t){e.$set(e.data.options,"multiple",t)},expression:"data.options.multiple"}})],1):e._e(),"select"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.filterable")}},[a("el-switch",{model:{value:e.data.options.filterable,callback:function(t){e.$set(e.data.options,"filterable",t)},expression:"data.options.filterable"}})],1):e._e(),Object.keys(e.data.options).indexOf("allowHalf")>=0?a("el-form-item",{attrs:{label:"$t('fm.config.widget.allowHalf')"}},[a("el-switch",{model:{value:e.data.options.allowHalf,callback:function(t){e.$set(e.data.options,"allowHalf",t)},expression:"data.options.allowHalf"}})],1):e._e(),Object.keys(e.data.options).indexOf("showAlpha")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showAlpha")}},[a("el-switch",{model:{value:e.data.options.showAlpha,callback:function(t){e.$set(e.data.options,"showAlpha",t)},expression:"data.options.showAlpha"}})],1):e._e(),Object.keys(e.data.options).indexOf("showLabel")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showLabel")}},[a("el-switch",{model:{value:e.data.options.showLabel,callback:function(t){e.$set(e.data.options,"showLabel",t)},expression:"data.options.showLabel"}})],1):e._e(),Object.keys(e.data.options).indexOf("options")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.option")}},[a("el-radio-group",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"mini"},model:{value:e.data.options.remote,callback:function(t){e.$set(e.data.options,"remote",t)},expression:"data.options.remote"}},[a("el-radio-button",{attrs:{label:!1}},[e._v(e._s(e.$t("fm.config.widget.staticData")))]),a("el-radio-button",{attrs:{label:!0}},[e._v(e._s(e.$t("fm.config.widget.remoteData")))])],1),e.data.options.remote?[a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.remoteFunc,callback:function(t){e.$set(e.data.options,"remoteFunc",t)},expression:"data.options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.remoteFunc")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.value,callback:function(t){e.$set(e.data.options.props,"value",t)},expression:"data.options.props.value"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.value")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.label,callback:function(t){e.$set(e.data.options.props,"label",t)},expression:"data.options.props.label"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.label")))])],2)],1)]:["radio"==e.data.type||"select"==e.data.type&&!e.data.options.multiple?[a("el-radio-group",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.options.options,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.options.options,(function(t,i){return a("li",{key:i},[a("el-radio",{staticStyle:{"margin-right":"5px"},attrs:{label:t.value}},[a("el-input",{style:{width:e.data.options.showLabel?"90px":"180px"},attrs:{size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e.data.options.showLabel?a("el-input",{staticStyle:{width:"90px"},attrs:{size:"mini"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}):e._e()],1),a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0)],1)]:e._e(),"checkbox"==e.data.type||"select"==e.data.type&&e.data.options.multiple?[a("el-checkbox-group",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.options.options,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.options.options,(function(t,i){return a("li",{key:i},[a("el-checkbox",{staticStyle:{"margin-right":"5px"},attrs:{label:t.value}},[a("el-input",{style:{width:e.data.options.showLabel?"90px":"180px"},attrs:{size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e.data.options.showLabel?a("el-input",{staticStyle:{width:"90px"},attrs:{size:"mini"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}):e._e()],1),a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0)],1)]:e._e(),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddOption}},[e._v(e._s(e.$t("fm.actions.addOption")))])],1)]],2):e._e(),"cascader"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.remoteData")}},[a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.remoteFunc,callback:function(t){e.$set(e.data.options,"remoteFunc",t)},expression:"data.options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.remoteFunc")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.value,callback:function(t){e.$set(e.data.options.props,"value",t)},expression:"data.options.props.value"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.value")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.label,callback:function(t){e.$set(e.data.options.props,"label",t)},expression:"data.options.props.label"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.label")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.children,callback:function(t){e.$set(e.data.options.props,"children",t)},expression:"data.options.props.children"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.childrenOption")))])],2)],1)]):e._e(),Object.keys(e.data.options).indexOf("defaultValue")>=0&&("textarea"==e.data.type||"input"==e.data.type||"rate"==e.data.type||"color"==e.data.type||"switch"==e.data.type)?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},["textarea"==e.data.type?a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"input"==e.data.type?a("el-input",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"rate"==e.data.type?a("el-rate",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{max:e.data.options.max,"allow-half":e.data.options.allowHalf},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"rate"==e.data.type?a("el-button",{staticStyle:{display:"inline-block","vertical-align":"middle","margin-left":"10px"},attrs:{type:"text"},on:{click:function(t){e.data.options.defaultValue=0}}},[e._v(e._s(e.$t("fm.actions.clear")))]):e._e(),"color"==e.data.type?a("el-color-picker",{attrs:{"show-alpha":e.data.options.showAlpha},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"switch"==e.data.type?a("el-switch",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e()],1):e._e(),"time"==e.data.type||"date"==e.data.type?["date"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showType")}},[a("el-select",{model:{value:e.data.options.type,callback:function(t){e.$set(e.data.options,"type",t)},expression:"data.options.type"}},[a("el-option",{attrs:{value:"year"}}),a("el-option",{attrs:{value:"month"}}),a("el-option",{attrs:{value:"date"}}),a("el-option",{attrs:{value:"dates"}}),a("el-option",{attrs:{value:"datetime"}}),a("el-option",{attrs:{value:"datetimerange"}}),a("el-option",{attrs:{value:"daterange"}})],1)],1):e._e(),"time"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isRange")}},[a("el-switch",{model:{value:e.data.options.isRange,callback:function(t){e.$set(e.data.options,"isRange",t)},expression:"data.options.isRange"}})],1):e._e(),"date"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isTimestamp")}},[a("el-switch",{model:{value:e.data.options.timestamp,callback:function(t){e.$set(e.data.options,"timestamp",t)},expression:"data.options.timestamp"}})],1):e._e(),!e.data.options.isRange&&"time"==e.data.type||"time"!=e.data.type&&"datetimerange"!=e.data.options.type&&"daterange"!=e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.placeholder")}},[a("el-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),e.data.options.isRange||"datetimerange"==e.data.options.type||"daterange"==e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.startPlaceholder")}},[a("el-input",{model:{value:e.data.options.startPlaceholder,callback:function(t){e.$set(e.data.options,"startPlaceholder",t)},expression:"data.options.startPlaceholder"}})],1):e._e(),e.data.options.isRange||"datetimerange"==e.data.options.type||"daterange"==e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.endPlaceholder")}},[a("el-input",{model:{value:e.data.options.endPlaceholder,callback:function(t){e.$set(e.data.options,"endPlaceholder",t)},expression:"data.options.endPlaceholder"}})],1):e._e(),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.format")}},[a("el-input",{model:{value:e.data.options.format,callback:function(t){e.$set(e.data.options,"format",t)},expression:"data.options.format"}})],1),"time"==e.data.type&&Object.keys(e.data.options).indexOf("isRange")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},[e.data.options.isRange?e._e():a("el-time-picker",{key:"1",staticStyle:{width:"100%"},attrs:{arrowControl:e.data.options.arrowControl,"value-format":e.data.options.format},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}),e.data.options.isRange?a("el-time-picker",{key:"2",staticStyle:{width:"100%"},attrs:{"is-range":"",arrowControl:e.data.options.arrowControl,"value-format":e.data.options.format},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e()],1):e._e()]:e._e(),"imgupload"==e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isQiniu")}},[a("el-switch",{model:{value:e.data.options.isQiniu,callback:function(t){e.$set(e.data.options,"isQiniu",t)},expression:"data.options.isQiniu"}})],1),e.data.options.isQiniu?[a("el-form-item",{attrs:{label:"Domain",required:!0}},[a("el-input",{model:{value:e.data.options.domain,callback:function(t){e.$set(e.data.options,"domain",t)},expression:"data.options.domain"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.tokenFunc"),required:!0}},[a("el-input",{model:{value:e.data.options.tokenFunc,callback:function(t){e.$set(e.data.options,"tokenFunc",t)},expression:"data.options.tokenFunc"}})],1)]:[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.imageAction"),required:!0}},[a("el-input",{model:{value:e.data.options.action,callback:function(t){e.$set(e.data.options,"action",t)},expression:"data.options.action"}})],1)]]:e._e(),"blank"==e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultType")}},[a("el-select",{model:{value:e.data.options.defaultType,callback:function(t){e.$set(e.data.options,"defaultType",t)},expression:"data.options.defaultType"}},[a("el-option",{attrs:{value:"String",label:e.$t("fm.config.widget.string")}}),a("el-option",{attrs:{value:"Object",label:e.$t("fm.config.widget.object")}}),a("el-option",{attrs:{value:"Array",label:e.$t("fm.config.widget.array")}})],1)],1)]:e._e(),"grid"==e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.gutter")}},[a("el-input",{attrs:{type:"number"},model:{value:e.data.options.gutter,callback:function(t){e.$set(e.data.options,"gutter",e._n(t))},expression:"data.options.gutter"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.columnOption")}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.columns,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.columns,(function(t,i){return a("li",{key:i},[a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:e.$t("fm.config.widget.span"),size:"mini",type:"number"},model:{value:t.span,callback:function(a){e.$set(t,"span",e._n(a))},expression:"item.span"}}),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddColumn}},[e._v(e._s(e.$t("fm.actions.addColumn")))])],1)],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.justify")}},[a("el-select",{model:{value:e.data.options.justify,callback:function(t){e.$set(e.data.options,"justify",t)},expression:"data.options.justify"}},[a("el-option",{attrs:{value:"start",label:e.$t("fm.config.widget.justifyStart")}}),a("el-option",{attrs:{value:"end",label:e.$t("fm.config.widget.justifyEnd")}}),a("el-option",{attrs:{value:"center",label:e.$t("fm.config.widget.justifyCenter")}}),a("el-option",{attrs:{value:"space-around",label:e.$t("fm.config.widget.justifySpaceAround")}}),a("el-option",{attrs:{value:"space-between",label:e.$t("fm.config.widget.justifySpaceBetween")}})],1)],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.align")}},[a("el-select",{model:{value:e.data.options.align,callback:function(t){e.$set(e.data.options,"align",t)},expression:"data.options.align"}},[a("el-option",{attrs:{value:"top",label:e.$t("fm.config.widget.alignTop")}}),a("el-option",{attrs:{value:"middle",label:e.$t("fm.config.widget.alignMiddle")}}),a("el-option",{attrs:{value:"bottom",label:e.$t("fm.config.widget.alignBottom")}})],1)],1)]:e._e(),"grid"!=e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.attribute")}},[Object.keys(e.data.options).indexOf("readonly")>=0?a("el-checkbox",{model:{value:e.data.options.readonly,callback:function(t){e.$set(e.data.options,"readonly",t)},expression:"data.options.readonly"}},[e._v(e._s(e.$t("fm.config.widget.readonly")))]):e._e(),Object.keys(e.data.options).indexOf("disabled")>=0?a("el-checkbox",{model:{value:e.data.options.disabled,callback:function(t){e.$set(e.data.options,"disabled",t)},expression:"data.options.disabled"}},[e._v(e._s(e.$t("fm.config.widget.disabled"))+" ")]):e._e(),Object.keys(e.data.options).indexOf("editable")>=0?a("el-checkbox",{model:{value:e.data.options.editable,callback:function(t){e.$set(e.data.options,"editable",t)},expression:"data.options.editable"}},[e._v(e._s(e.$t("fm.config.widget.editable")))]):e._e(),Object.keys(e.data.options).indexOf("clearable")>=0?a("el-checkbox",{model:{value:e.data.options.clearable,callback:function(t){e.$set(e.data.options,"clearable",t)},expression:"data.options.clearable"}},[e._v(e._s(e.$t("fm.config.widget.clearable"))+" ")]):e._e(),Object.keys(e.data.options).indexOf("arrowControl")>=0?a("el-checkbox",{model:{value:e.data.options.arrowControl,callback:function(t){e.$set(e.data.options,"arrowControl",t)},expression:"data.options.arrowControl"}},[e._v(e._s(e.$t("fm.config.widget.arrowControl")))]):e._e(),Object.keys(e.data.options).indexOf("isDelete")>=0?a("el-checkbox",{model:{value:e.data.options.isDelete,callback:function(t){e.$set(e.data.options,"isDelete",t)},expression:"data.options.isDelete"}},[e._v(e._s(e.$t("fm.config.widget.isDelete")))]):e._e(),Object.keys(e.data.options).indexOf("isEdit")>=0?a("el-checkbox",{model:{value:e.data.options.isEdit,callback:function(t){e.$set(e.data.options,"isEdit",t)},expression:"data.options.isEdit"}},[e._v(e._s(e.$t("fm.config.widget.isEdit")))]):e._e()],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.validate")}},[Object.keys(e.data.options).indexOf("required")>=0?a("div",[a("el-checkbox",{model:{value:e.data.options.required,callback:function(t){e.$set(e.data.options,"required",t)},expression:"data.options.required"}},[e._v(e._s(e.$t("fm.config.widget.required")))])],1):e._e(),Object.keys(e.data.options).indexOf("dataType")>=0?a("el-select",{attrs:{size:"mini"},model:{value:e.data.options.dataType,callback:function(t){e.$set(e.data.options,"dataType",t)},expression:"data.options.dataType"}},[a("el-option",{attrs:{value:"string",label:e.$t("fm.config.widget.string")}}),a("el-option",{attrs:{value:"number",label:e.$t("fm.config.widget.number")}}),a("el-option",{attrs:{value:"boolean",label:e.$t("fm.config.widget.boolean")}}),a("el-option",{attrs:{value:"integer",label:e.$t("fm.config.widget.integer")}}),a("el-option",{attrs:{value:"float",label:e.$t("fm.config.widget.float")}}),a("el-option",{attrs:{value:"url",label:e.$t("fm.config.widget.url")}}),a("el-option",{attrs:{value:"email",label:e.$t("fm.config.widget.email")}}),a("el-option",{attrs:{value:"hex",label:e.$t("fm.config.widget.hex")}})],1):e._e(),Object.keys(e.data.options).indexOf("pattern")>=0?a("div",[a("el-input",{staticStyle:{width:"240px"},attrs:{size:"mini",placeholder:e.$t("fm.config.widget.patternPlaceholder")},model:{value:e.data.options.pattern,callback:function(t){e.$set(e.data.options,"pattern",t)},expression:"data.options.pattern"}})],1):e._e()],1)]:e._e()],2)],1):e._e()}),[],!1,null,null,null).exports;function bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function vt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var yt,_t,wt={name:"edit-making-form",components:{Draggable:qe.a,WidgetConfig:gt,FormConfig:Ue,WidgetForm:Ye,CusDialog:et,GenerateForm:at},props:{preview:{type:Boolean,default:!1},generateCode:{type:Boolean,default:!1},generateJson:{type:Boolean,default:!1},upload:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},basicFields:{type:Array,default:function(){return["input","textarea","number","radio","checkbox","date","rate","select","switch","slider","text"]}},advanceFields:{type:Array,default:function(){return["imgupload","cascader"]}},layoutFields:{type:Array,default:function(){return["grid","grid3"]}}},data:function(){return{basicComponents:ot,layoutComponents:st,advanceComponents:lt,resetJson:!1,widgetForm:{list:[],config:{labelWidth:100,labelPosition:"right",size:"small"}},configTab:"widget",widgetFormSelect:null,previewVisible:!1,jsonVisible:!1,codeVisible:!1,uploadVisible:!1,remoteFuncs:{func_test:function(e){setTimeout((function(){e([{id:"1",name:"1111"},{id:"2",name:"2222"},{id:"3",name:"3333"}])}),2e3)},funcGetToken:function(e){dt.get("http://tools-server.xiaoyaoji.cn/api/uptoken").then((function(t){e(t.uptoken)}))},upload_callback:function(e,t,a){}},widgetModels:{},blank:"",htmlTemplate:'{"list":[{"type":"slider","icon":"icon-slider","options":{"defaultValue":0,"disabled":false,"required":false,"min":0,"max":100,"step":1,"showInput":false,"range":false,"width":"","remoteFunc":"func_1581472553000_87431"},"name":"滑块","key":"1581472553000_87431","model":"slider_1581472553000_87431","rules":[]},{"type":"slider","icon":"icon-slider","options":{"defaultValue":0,"disabled":false,"required":false,"min":0,"max":100,"step":1,"showInput":false,"range":false,"width":"","remoteFunc":"func_1581472556000_18957"},"name":"滑块","key":"1581472556000_18957","model":"slider_1581472556000_18957","rules":[]}],"config":{"labelWidth":100,"labelPosition":"right","size":"small"}}',jsonTemplate:'{"list":[{"type":"slider","icon":"icon-slider","options":{"defaultValue":0,"disabled":false,"required":false,"min":0,"max":100,"step":1,"showInput":false,"range":false,"width":"","remoteFunc":"func_1581472553000_87431"},"name":"滑块","key":"1581472553000_87431","model":"slider_1581472553000_87431","rules":[]},{"type":"slider","icon":"icon-slider","options":{"defaultValue":0,"disabled":false,"required":false,"min":0,"max":100,"step":1,"showInput":false,"range":false,"width":"","remoteFunc":"func_1581472556000_18957"},"name":"滑块","key":"1581472556000_18957","model":"slider_1581472556000_18957","rules":[]}],"config":{"labelWidth":100,"labelPosition":"right","size":"small"}}',uploadEditor:null,jsonCopyValue:"",jsonClipboard:null,jsonEg:'{\n  "list": [],\n  "config": {\n    "labelWidth": 100,\n    "labelPosition": "top",\n    "size": "small"\n  }\n}',editData:{name:""},rules:{name:[{required:!0,message:"请输入表单名称",trigger:"blur"}]}}},created:function(){var e=this;C.getTemplateInfo(this.$route.query.id).then((function(t){var a=t.data,i=a.code,n=a.data;if(200==+i){e.editData=n;var o=JSON.parse(n.content);e.setJSON(o)}}))},mounted:function(){this._loadComponents()},methods:{_loadComponents:function(){var e=this;this.basicComponents=this.basicComponents.map((function(t){return vt({},t,{name:e.$t("fm.components.fields.".concat(t.type))})})),this.advanceComponents=this.advanceComponents.map((function(t){return vt({},t,{name:e.$t("fm.components.fields.".concat(t.type))})})),this.layoutComponents=this.layoutComponents.map((function(t){return vt({},t,{name:e.$t("fm.components.fields.".concat(t.type))})}))},handleGoGithub:function(){window.location.href="https://github.com/GavinZhuLei/vue-form-making"},handleConfigSelect:function(e){this.configTab=e},handleMoveEnd:function(e){},handleMoveStart:function(e){e.oldIndex},handleMove:function(){return!0},handlePreview:function(){this.previewVisible=!0},handleTest:function(){var e=this;this.$refs.generateForm.getData().then((function(t){e.$alert(t,"").catch((function(e){})),e.$refs.widgetPreview.end()})).catch((function(t){e.$refs.widgetPreview.end()}))},handleReset:function(){this.$refs.generateForm.reset()},handleGenerateJson:function(){var e=this;this.jsonVisible=!0,this.jsonTemplate=this.widgetForm,this.$nextTick((function(){ace.edit("jsoneditor").session.setMode("ace/mode/json"),e.jsonClipboard||(e.jsonClipboard=new nt.a(".json-btn"),e.jsonClipboard.on("success",(function(t){e.$message.success(e.$t("fm.message.copySuccess"))}))),e.jsonCopyValue=JSON.stringify(e.widgetForm)}))},handleGenerateCode:function(){this.codeVisible=!0,this.htmlTemplate=ct(JSON.stringify(this.widgetForm)),this.$nextTick((function(){ace.edit("codeeditor").session.setMode("ace/mode/html")}))},handleUpload:function(){var e=this;this.uploadVisible=!0,this.$nextTick((function(){e.uploadEditor=ace.edit("uploadeditor"),e.uploadEditor.session.setMode("ace/mode/json")}))},handleUploadJson:function(){try{this.setJSON(JSON.parse(this.uploadEditor.getValue()))}catch(e){this.$message.error(e.message),this.$refs.uploadJson.end()}},handleClear:function(){this.widgetForm={list:[],config:{labelWidth:100,labelPosition:"right",size:"small",customClass:""}},this.widgetFormSelect={}},getJSON:function(){return this.widgetForm},getHtml:function(){return ct(JSON.stringify(this.widgetForm))},setJSON:function(e){this.widgetForm=e,e.list.length>0&&(this.widgetFormSelect=e.list[0])},handleInput:function(e){this.blank=e},handleDataChange:function(e,t,a){},editTemplate:function(){var e=this,t=JSON.stringify(this.widgetForm);if(""===this.editData.name||""===t)return this.$message({showClose:!0,message:"表单属性中表单名称不能为空",type:"warning"}),void this.$nextTick((function(){e.$refs.formConfig.submit()}));this.$alert("确定修改表单吗？","表单提交",{showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",callback:function(a){if("confirm"===a){var i=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n=e.editData,o=n.name,l=n.id;C.editTemplate(l,o,t).then((function(t){200==+t.data.code?(e.$message({showClose:!0,message:"添加成功",type:"success"}),e.$router.push("/formlist")):e.$message({showClose:!0,message:"添加失败",type:"warning"}),i.close()}))}}})}},watch:{widgetForm:{deep:!0,handler:function(e){}},$lang:function(e){this._loadComponents()}}},kt=(a("53bb"),Object(o.a)(wt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"fm2-container"},[a("el-main",{staticClass:"fm2-main"},[a("el-container",[a("el-aside",{attrs:{width:"250px"}},[a("div",{staticClass:"components-list"},[e.basicFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.basic.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.basicComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.basicComponents,(function(t,i){return e.basicFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"divider"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e(),e.advanceFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.advance.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.advanceComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.advanceComponents,(function(t,i){return e.advanceFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"table"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e()],2)]),a("el-container",{staticClass:"center-container",attrs:{direction:"vertical"}},[a("el-header",{staticClass:"btn-bar",staticStyle:{height:"45px"}},[e._t("action"),e.generateCode?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-document"},on:{click:e.editTemplate}},[e._v("编辑表单")]):e._e(),e.upload?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-upload2"},on:{click:e.handleUpload}},[e._v(e._s(e.$t("fm.actions.import")))]):e._e(),e.clearable?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-delete"},on:{click:e.handleClear}},[e._v(e._s(e.$t("fm.actions.clear")))]):e._e(),e.preview?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-view"},on:{click:e.handlePreview}},[e._v(e._s(e.$t("fm.actions.preview")))]):e._e(),e.generateJson?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-tickets"},on:{click:e.handleGenerateJson}},[e._v(e._s(e.$t("fm.actions.json")))]):e._e(),e.generateCode?a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-document"},on:{click:e.handleGenerateCode}},[e._v(e._s(e.$t("fm.actions.code")))]):e._e()],2),a("el-main",{class:{"widget-empty":0==e.widgetForm.list.length}},[e.resetJson?e._e():a("widget-form",{ref:"widgetForm",attrs:{data:e.widgetForm,select:e.widgetFormSelect},on:{"update:select":function(t){e.widgetFormSelect=t}}})],1)],1),a("el-aside",{staticClass:"widget-config-container"},[a("el-container",[a("el-header",{attrs:{height:"45px"}},[a("div",{staticClass:"config-tab",class:{active:"widget"==e.configTab},on:{click:function(t){return e.handleConfigSelect("widget")}}},[e._v(e._s(e.$t("fm.config.widget.title")))]),a("div",{staticClass:"config-tab",class:{active:"form"==e.configTab},on:{click:function(t){return e.handleConfigSelect("form")}}},[e._v(e._s(e.$t("fm.config.form.title")))])]),a("el-main",{staticClass:"config-content"},[a("widget-config",{directives:[{name:"show",rawName:"v-show",value:"widget"==e.configTab,expression:"configTab=='widget'"}],attrs:{data:e.widgetFormSelect}}),a("form-config",{directives:[{name:"show",rawName:"v-show",value:"form"==e.configTab,expression:"configTab=='form'"}],ref:"formConfig",attrs:{data:e.widgetForm.config,editData:e.editData,rules:e.rules}})],1)],1)],1),a("cus-dialog",{ref:"widgetPreview",attrs:{visible:e.previewVisible,width:"1000px",form:""},on:{"on-close":function(t){e.previewVisible=!1}}},[e.previewVisible?a("generate-form",{ref:"generateForm",attrs:{insite:"true",data:e.widgetForm,value:e.widgetModels,remote:e.remoteFuncs},on:{"on-change":e.handleDataChange},scopedSlots:e._u([{key:"blank",fn:function(t){return[e._v(" Width "),a("el-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.width,callback:function(a){e.$set(t.model.blank,"width",a)},expression:"scope.model.blank.width"}}),e._v("Height "),a("el-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.height,callback:function(a){e.$set(t.model.blank,"height",a)},expression:"scope.model.blank.height"}})]}}],null,!1,3417951797)}):e._e(),a("template",{slot:"action"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleTest}},[e._v(e._s(e.$t("fm.actions.getData")))]),a("el-button",{on:{click:e.handleReset}},[e._v(e._s(e.$t("fm.actions.reset")))])],1)],2),a("cus-dialog",{ref:"uploadJson",attrs:{visible:e.uploadVisible,width:"800px",form:""},on:{"on-close":function(t){e.uploadVisible=!1},"on-submit":e.handleUploadJson}},[a("el-alert",{attrs:{type:"info",title:e.$t("fm.description.uploadJsonInfo")}}),a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"uploadeditor"}},[e._v(e._s(e.jsonEg))])],1),a("cus-dialog",{ref:"jsonPreview",attrs:{visible:e.jsonVisible,width:"800px",form:""},on:{"on-close":function(t){e.jsonVisible=!1}}},[a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"jsoneditor"}},[e._v(e._s(e.jsonTemplate))]),a("template",{slot:"action"},[a("el-button",{staticClass:"json-btn",attrs:{type:"primary","data-clipboard-text":e.jsonCopyValue}},[e._v(e._s(e.$t("fm.actions.copyData")))])],1)],2),a("cus-dialog",{ref:"codePreview",attrs:{visible:e.codeVisible,width:"800px",form:"",action:!1},on:{"on-close":function(t){e.codeVisible=!1}}},[a("div",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"codeeditor"}},[e._v(e._s(e.htmlTemplate))])])],1)],1),a("el-footer",{staticStyle:{"font-weight":"600"},attrs:{height:"30px"}},[e._v(" Powered by "),a("a",{attrs:{target:"_blank",href:"https://github.com/GavinZhuLei/vue-form-making"}},[e._v("vue-form-making")])])],1)}),[],!1,null,null,null).exports),Ot={fm:{components:{fields:{input:"Input",textarea:"Textarea",number:"Number",radio:"Radio",checkbox:"Checkbox",time:"Time",date:"Date",rate:"Rate",color:"Color",select:"Select",switch:"Switch",slider:"Slider",text:"Text",blank:"Custom",fileupload:"File",imgupload:"Image",editor:"Editor",cascader:"Cascader",table:"Sub-table",grid:"Grid",tabs:"Tabs",divider:"Divider"},basic:{title:"Basic Component"},advance:{title:"Advance Component"},layout:{title:"Layout"}},description:{containerEmpty:"You can drag and drop the item from the left to add components",configEmpty:"Please add a component",tableEmpty:"You can drag and drop the item from the left to add components",uploadJsonInfo:"There is the format of JSON below，you can overwrite it with you own JSON code"},message:{copySuccess:"Copy Successed",validError:"Form data validation failed"},actions:{import:"Import JSON",clear:"Clear",preview:"Preview",json:"Generate JSON",code:"Generate Code",getData:"Get Data",reset:"Reset",copyData:"Copy Data",cancel:"Cancel",confirm:"Confirm",addOption:"Add Option",addColumn:"Add Column",addTab:"Add Tab",upload:"Upload",add:"Add"},config:{form:{title:"Form Attribute",labelPosition:{title:"Label Position",left:"Left",right:"Right",top:"Top"},labelWidth:"Label Width",size:"Size",customClass:"Custom Class"},widget:(yt={title:"Component Attribute",model:"ID",name:"Name",width:"Width",height:"Height",size:"Size",labelWidth:"Label Width",custom:"Custom",placeholder:"Placeholder",layout:"Layout",block:"Block",inline:"Inline",contentPosition:"Content Position",left:"Left",right:"Right",center:"Center",showInput:"Display Input Box",min:"Minimum",max:"Maximum",step:"Step",multiple:"Multiple",filterable:"Searchable",allowHalf:"Allow Half",showAlpha:"Support transparency options",showLabel:"Show lable",option:"Option",staticData:"Static Data",remoteData:"Remote Date",remoteFunc:"Remote Function",value:"Value",label:"Label",childrenOption:"Sub-Option",defaultValue:"Default Value",showType:"Display type",isRange:"Range Time",isTimestamp:"Get time stamp",startPlaceholder:"Placeholder of start time",endPlaceholder:"Placeholder of end time",format:"Format",limit:"Maximum Upload Count",isQiniu:"Upload with Qiniu Cloud",tokenFunc:"A funchtin to get Qiniu Uptoken",imageAction:"Picture upload address",tip:"Text Prompt",action:"Upload Address",defaultType:"Data Type",string:"String",object:"Object",array:"Array",number:"Number",boolean:"Boolean",integer:"Integer",float:"Float",url:"URL",email:"E-mail",hex:"Hexadecimal",gutter:"Grid Spacing",columnOption:"Column Configuration",span:"Grid spans",justify:"Horizontal Arrangement",justifyStart:"Start",justifyEnd:"End",justifyCenter:"Center",justifySpaceAround:"Space Around",justifySpaceBetween:"Space Between",align:"Vertical Arrangement",alignTop:"Top",alignMiddle:"Middle",alignBottom:"Bottom",type:"Type",default:"Default",card:"Tabs",borderCard:"Border-Card",tabPosition:"Tab Position",top:"Tob"},Object(m.a)(yt,"left","Left"),Object(m.a)(yt,"right","Right"),Object(m.a)(yt,"bottom","Bottom"),Object(m.a)(yt,"tabOption","Label Configuration"),Object(m.a)(yt,"tabName","Tab Name"),Object(m.a)(yt,"customClass","Custom Class"),Object(m.a)(yt,"attribute","Attribute Action"),Object(m.a)(yt,"dataBind","Data Binding"),Object(m.a)(yt,"hidden","Hidden"),Object(m.a)(yt,"readonly","Read Only"),Object(m.a)(yt,"disabled","Disabled"),Object(m.a)(yt,"editable","Text box is editable"),Object(m.a)(yt,"clearable","Display Clear Button"),Object(m.a)(yt,"arrowControl","Use the arrow for time selection"),Object(m.a)(yt,"isDelete","Deletable"),Object(m.a)(yt,"isEdit","Editable"),Object(m.a)(yt,"showPassword","Display Password"),Object(m.a)(yt,"validate","Validation"),Object(m.a)(yt,"required","Required"),Object(m.a)(yt,"patternPlaceholder","Fill in the regular expressions"),Object(m.a)(yt,"newOption","New Option"),Object(m.a)(yt,"tab","Tab"),Object(m.a)(yt,"validatorRequired","Required"),Object(m.a)(yt,"validatorType","Invaild format"),Object(m.a)(yt,"validatorPattern","Unmatched pattern"),yt)},upload:{preview:"preview",edit:"replace",delete:"delete"}}},xt={fm:{components:{fields:{input:"单行文本",textarea:"多行文本",number:"计数器",radio:"单选框组",checkbox:"多选框组",time:"时间选择器",date:"日期选择器",rate:"评分",color:"颜色选择器",select:"下拉选择框",switch:"开关",slider:"滑块",text:"文字",blank:"自定义区域",fileupload:"文件",imgupload:"图片",editor:"编辑器",cascader:"级联选择器",table:"子表单",grid:"栅格布局",tabs:"标签页",divider:"分割线"},basic:{title:"基础字段"},advance:{title:"高级字段"},layout:{title:"布局字段"}},description:{containerEmpty:"从左侧拖拽来添加字段",configEmpty:"请添加字段",tableEmpty:"从左侧拖拽来添加字段",uploadJsonInfo:"JSON格式如下，直接复制生成的json覆盖此处代码点击确定即可"},message:{copySuccess:"复制成功",validError:"表单数据校验失败"},actions:{import:"导入JSON",clear:"清空",preview:"预览",json:"生成JSON",code:"生成代码",getData:"获取数据",reset:"重置",copyData:"复制数据",cancel:"取 消",confirm:"确 定",addOption:"添加选项",addColumn:"添加列",addTab:"添加标签",upload:"点击上传",add:"添加"},config:{form:{title:"表单属性",labelPosition:{title:"标签对齐方式",left:"左对齐",right:"右对齐",top:"顶部对齐"},labelWidth:"表单标签宽度",size:"组件尺寸",customClass:"自定义Class"},widget:(_t={title:"字段属性",model:"字段标识",name:"标题",width:"宽度",height:"高度",size:"大小",labelWidth:"标签宽度",custom:"自定义",placeholder:"占位内容",layout:"布局方式",block:"块级",inline:"行内",contentPosition:"文案位置",left:"左侧",right:"右侧",center:"居中",showInput:"显示输入框",min:"最小值",max:"最大值",step:"步长",multiple:"是否多选",filterable:"是否可搜索",allowHalf:"允许半选",showAlpha:"支持透明度选择",showLabel:"是否显示标签",option:"选项",staticData:"静态数据",remoteData:"远端数据",remoteFunc:"远端方法",value:"值",label:"标签",childrenOption:"子选项",defaultValue:"默认值",showType:"显示类型",isRange:"是否为范围选择",isTimestamp:"是否获取时间戳",startPlaceholder:"开始时间占位内容",endPlaceholder:"结束时间占位内容",format:"格式",limit:"最大上传数",isQiniu:"使用七牛上传",tokenFunc:"获取七牛Token方法",imageAction:"图片上传地址",tip:"提示说明文字",action:"上传地址",defaultType:"绑定数据类型",string:"字符串",object:"对象",array:"数组",number:"数字",boolean:"布尔值",integer:"整数",float:"浮点数",url:"URL地址",email:"邮箱地址",hex:"十六进制",gutter:"栅格间隔",columnOption:"列配置项",span:"栅格值",justify:"水平排列方式",justifyStart:"左对齐",justifyEnd:"右对齐",justifyCenter:"居中",justifySpaceAround:"两侧间隔相等",justifySpaceBetween:"两端对齐",align:"垂直排列方式",alignTop:"顶部对齐",alignMiddle:"居中",alignBottom:"底部对齐",type:"风格类型",default:"默认",card:"选项卡",borderCard:"卡片化",tabPosition:"选项卡位置",top:"顶部"},Object(m.a)(_t,"left","左侧"),Object(m.a)(_t,"right","右侧"),Object(m.a)(_t,"bottom","底部"),Object(m.a)(_t,"tabOption","标签配置项"),Object(m.a)(_t,"tabName","标签名称"),Object(m.a)(_t,"customClass","自定义Class"),Object(m.a)(_t,"attribute","操作属性"),Object(m.a)(_t,"dataBind","数据绑定"),Object(m.a)(_t,"hidden","隐藏"),Object(m.a)(_t,"readonly","完全只读"),Object(m.a)(_t,"disabled","禁用"),Object(m.a)(_t,"editable","文本框可输入"),Object(m.a)(_t,"clearable","显示清除按钮"),Object(m.a)(_t,"arrowControl","使用箭头进行时间选择"),Object(m.a)(_t,"isDelete","删除"),Object(m.a)(_t,"isEdit","编辑"),Object(m.a)(_t,"showPassword","显示密码"),Object(m.a)(_t,"validate","校验"),Object(m.a)(_t,"required","必填"),Object(m.a)(_t,"patternPlaceholder","填写正则表达式"),Object(m.a)(_t,"newOption","新选项"),Object(m.a)(_t,"tab","标签页"),Object(m.a)(_t,"validatorRequired","必须填写"),Object(m.a)(_t,"validatorType","格式不正确"),Object(m.a)(_t,"validatorPattern","格式不匹配"),_t)},upload:{preview:"预览",edit:"替换",delete:"删除"}}};function jt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function $t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a("0f59"),a("eb0d"),a("b20f");var Dt=function(e,t,a,i){a?(a("en-US",$t({},a("en-US"),{},Ot)),a("zh-CN",$t({},a("zh-CN"),{},xt)),e.config.lang=t):i?(i.setLocaleMessage("en-US",$t({},i.messages["en-US"],{},Ot)),i.setLocaleMessage("zh-CN",$t({},i.messages["zh-CN"],{},xt)),i.locale=t):(e.use(Re.a),e.locale("en-US",$t({},e.locale("en-US"),{},Ot)),e.locale("zh-CN",$t({},e.locale("zh-CN"),{},xt)),e.config.lang=t)};ft.install=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"zh-CN",locale:null,i18n:null};Dt(e,t.lang,t.locale,t.i18n),e.component(ft.name,ft)},kt.install=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"zh-CN",locale:null,i18n:null};Dt(e,t.lang,t.locale,t.i18n),e.component(ft.name,ft)},at.install=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"zh-CN",locale:null,i18n:null};Dt(e,t.lang,t.locale,t.i18n),e.component(at.name,at)};var Ct=[ft,at,kt],Pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"zh-CN",locale:null,i18n:null};Dt(e,t.lang,t.locale,t.i18n),Ct.forEach((function(t){e.component(t.name,t)}))};"undefined"!=typeof window&&window.Vue&&Pt(window.Vue);var Ft={install:Pt,MakingForm:ft,GenerateForm:at,EditForm:kt};i.default.use(Ie.a),i.default.use(x.a,{size:"small"}),i.default.use(Ft),i.default.config.productionTip=!1,new i.default({store:k,router:Ee,render:function(e){return e(l)}}).$mount("#app")},5819:function(e,t,a){},"5bbf":function(e,t,a){},"5c0b":function(e,t,a){"use strict";var i=a("9c0c");a.n(i).a},"60a2":function(e,t,a){"use strict";var i=a("1258");a.n(i).a},7252:function(e,t,a){},"727d":function(e,t,a){},"750e":function(e,t,a){},"8ebb":function(e,t,a){"use strict";var i=a("5bbf");a.n(i).a},"8f46":function(e,t,a){},"97c2":function(e,t,a){"use strict";var i=a("750e");a.n(i).a},"9c0c":function(e,t,a){},"9d8a":function(e,t,a){},a02c:function(e,t,a){"use strict";var i=a("0f99");a.n(i).a},a2f3:function(e,t,a){"use strict";var i=a("b9a9");a.n(i).a},a380:function(e,t,a){},b20f:function(e,t,a){},b8c8:function(e,t,a){"use strict";var i=a("5819");a.n(i).a},b9a9:function(e,t,a){},c52a:function(e,t,a){"use strict";var i=a("7252");a.n(i).a},c7f0:function(e,t,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var i=a("bd86"),n=(a("20d6"),a("c5f6"),a("c82c")),o=a.n(n),l=a("310e"),s=a.n(l),r=a("cea2");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a("0808");var p={components:{Draggable:s.a},props:{value:{type:Array,default:function(){return[]}},width:{type:Number,default:100},height:{type:Number,default:100},token:{type:String,default:""},domain:{type:String,default:""},multiple:{type:Boolean,default:!1},length:{type:Number,default:9},isQiniu:{type:Boolean,default:!1},isDelete:{type:Boolean,default:!1},min:{type:Number,default:0},meitu:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},action:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{fileList:this.value.map((function(e){return{key:e.key?e.key:(new Date).getTime()+"_"+Math.ceil(99999*Math.random()),url:e.url,percent:e.percent?e.percent:100,status:e.status?e.status:"success"}})),viewer:null,uploadId:"upload_"+(new Date).getTime(),editIndex:-1,meituIndex:-1}},computed:{miniWidth:function(){return this.width>this.height?this.height:this.width}},mounted:function(){this.$emit("input",this.fileList)},methods:{handleChange:function(){for(var e=this,t=this.$refs.uploadInput.files,a=function(a){var i=t[a],n=new FileReader,o=(new Date).getTime()+"_"+Math.ceil(99999*Math.random());n.readAsDataURL(i),n.onload=function(){e.editIndex>=0?(e.$set(e.fileList,e.editIndex,{key:o,url:n.result,percent:0,status:"uploading"}),e.editIndex=-1):e.fileList.push({key:o,url:n.result,percent:0,status:"uploading"}),e.$nextTick((function(){e.isQiniu?e.uplaodAction2(n.result,i,o):e.uplaodAction(n.result,i,o)}))}},i=0;i<t.length;i++)a(i);this.$refs.uploadInput.value=[]},uplaodAction:function(e,t,a){var i=this,n=(this.fileList.findIndex((function(e){return e.key===a})),new XMLHttpRequest),o=this.action;n.open("POST",o,!0);var l=new FormData;l.append("file",t),n.send(l),n.onreadystatechange=function(){if(4===n.readyState){var e=JSON.parse(n.response);e&&e.url?(i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],{url:e.url,percent:100})),setTimeout((function(){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],{status:"success"})),i.$emit("input",i.fileList)}),200)):(i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],{status:"error"})),i.fileList.splice(i.fileList.findIndex((function(e){return e.key===a})),1))}},n.onprogress=function(e){e.total&&e.loaded&&i.$set(i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],"percent",e.loaded/e.total*100)}},uplaodAction2:function(e,t,a){var i=this;r.upload(t,a,this.token,{fname:a,mimeType:[]},{useCdnDomain:!0,region:r.region.z2}).subscribe({next:function(e){i.$set(i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],"percent",parseInt(e.total.percent))},error:function(e){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],{status:"error"})),i.fileList.splice(i.fileList.findIndex((function(e){return e.key===a})),1)},complete:function(e){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],{url:i.domain+e.key,percent:100})),setTimeout((function(){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],{status:"success"})),i.$emit("input",i.fileList)}),200)}})},handleRemove:function(e){this.fileList.splice(this.fileList.findIndex((function(t){return t.key===e})),1)},handleEdit:function(e){this.editIndex=this.fileList.findIndex((function(t){return t.key===e})),this.$refs.uploadInput.click()},handleMeitu:function(e){this.$emit("on-meitu",this.fileList.findIndex((function(t){return t.key===e})))},handleAdd:function(){this.disabled||(this.editIndex=-1,this.$refs.uploadInput.click())},handlePreviewFile:function(e){var t=this;this.viewer&&this.viewer.destroy(),this.uploadId="upload_"+(new Date).getTime(),this.$nextTick((function(){t.viewer=new o.a(document.getElementById(t.uploadId)),t.viewer.view(t.fileList.findIndex((function(t){return t.key===e})))}))}},watch:{fileList:{deep:!0,handler:function(e){}}}},u=(a("3516"),a("2877")),m=Object(u.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fm-uplaod-container",attrs:{id:e.uploadId}},[a("draggable",e._b({staticClass:"drag-img-list",attrs:{"no-transition-on-drag":!0},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}},"draggable",{group:e.uploadId,ghostClass:"ghost",animation:200},!1),e._l(e.fileList,(function(t){return a("div",{key:t.key,staticClass:"upload-file",class:{uploading:"uploading"==t.status,"is-success":"success"==t.status,"is-diabled":e.disabled},style:{width:e.width+"px",height:e.height+"px"},attrs:{id:t.key}},[a("img",{attrs:{src:t.url}}),"uploading"==t.status?a("el-progress",{staticClass:"upload-progress",attrs:{width:.9*e.miniWidth,type:"circle",percentage:t.percent}}):e._e(),"success"==t.status?a("label",{staticClass:"item-status"},[a("i",{staticClass:"el-icon-upload-success el-icon-check"})]):e._e(),e.disabled?e._e():a("div",{staticClass:"uplaod-action",style:{height:e.miniWidth/4+"px"}},[a("i",{staticClass:"iconfont icon-tupianyulan",style:{"font-size":e.miniWidth/8+"px"},attrs:{title:e.$t("fm.upload.preview")},on:{click:function(a){return e.handlePreviewFile(t.key)}}}),e.isEdit?a("i",{staticClass:"iconfont icon-sync1",style:{"font-size":e.miniWidth/8+"px"},attrs:{title:e.$t("fm.upload.edit")},on:{click:function(a){return e.handleEdit(t.key)}}}):e._e(),e.isDelete&&e.fileList.length>e.min?a("i",{staticClass:"iconfont icon-delete",style:{"font-size":e.miniWidth/8+"px"},attrs:{title:e.$t("fm.upload.delete")},on:{click:function(a){return e.handleRemove(t.key)}}}):e._e()])],1)})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:(!e.isQiniu||e.isQiniu&&e.token)&&e.fileList.length<e.length,expression:"(!isQiniu || (isQiniu && token)) && fileList.length < length"}],staticClass:"el-upload el-upload--picture-card",class:{"is-disabled":e.disabled},style:{width:e.width+"px",height:e.height+"px"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleAdd(t)}}},[a("i",{staticClass:"el-icon-plus",style:{fontSize:e.miniWidth/4+"px",marginTop:-e.miniWidth/8+"px",marginLeft:-e.miniWidth/8+"px"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleAdd(t)}}}),e.multiple?a("input",{ref:"uploadInput",staticClass:"el-upload__input upload-input",style:{width:0,height:0},attrs:{accept:"image/*",multiple:"",type:"file",name:"file"},on:{change:e.handleChange}}):a("input",{ref:"uploadInput",staticClass:"el-upload__input upload-input",style:{width:0,height:0},attrs:{accept:"image/*",type:"file",name:"file"},on:{change:e.handleChange}})])],1)}),[],!1,null,null,null);t.a=m.exports},ce13:function(e,t,a){},ce2b:function(e,t,a){},d7cd:function(e,t,a){"use strict";var i=a("ce13");a.n(i).a},dc05:function(e,t,a){"use strict";var i=a("727d");a.n(i).a},eb0d:function(e,t,a){},fb08:function(e,t,a){}});